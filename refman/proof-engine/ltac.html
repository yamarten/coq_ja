

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The tactic language &mdash; Coq 8.8.2 ドキュメント</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
  <link rel="stylesheet" href="../_static/ansi.css" type="text/css" />
  <link rel="stylesheet" href="../_static/coqdoc.css" type="text/css" />
  <link rel="stylesheet" href="../_static/notations.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pre-text.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="Detailed examples of tactics" href="detailed-tactic-examples.html" />
    <link rel="prev" title="Tactics" href="tactics.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Coq
          

          
          </a>

          
            
            
              <div class="version">
                8.8.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">索引</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-cmdindex.html">Command index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-tacindex.html">Tactic index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-optindex.html">Flags, options and tables index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-exnindex.html">Errors and warnings index</a></li>
</ul>
<p class="caption"><span class="caption-text">はじめに</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">はじめに</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
</ul>
<p class="caption"><span class="caption-text">言語</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/gallina-specification-language.html">The Gallina specification language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/gallina-extensions.html">Extensions of <span class="smallcaps">Gallina</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/coq-library.html">The <span class="smallcaps">Coq</span> library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/cic.html">Calculus of Inductive Constructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/module-system.html">The Module System</a></li>
</ul>
<p class="caption"><span class="caption-text">証明エンジン</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="vernacular-commands.html">Vernacular commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="proof-handling.html">Proof handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="tactics.html">Tactics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The tactic language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#semantics">Semantics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sequence">Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-application-of-tactics">Local application of tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#goal-selectors">Goal selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#for-loop">For loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#repeat-loop">Repeat loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-catching">Error catching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detecting-progress">Detecting progress</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backtracking-branching">Backtracking branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#first-tactic-to-work">First tactic to work</a></li>
<li class="toctree-l3"><a class="reference internal" href="#left-biased-branching">Left-biased branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generalized-biased-branching">Generalized biased branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#soft-cut">Soft cut</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checking-the-successes">Checking the successes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checking-the-failure">Checking the failure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checking-the-success">Checking the success</a></li>
<li class="toctree-l3"><a class="reference internal" href="#solving">Solving</a></li>
<li class="toctree-l3"><a class="reference internal" href="#identity">Identity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#failing">Failing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timeout">Timeout</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timing-a-tactic">Timing a tactic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timing-a-tactic-that-evaluates-to-a-term">Timing a tactic that evaluates to a term</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-definitions">Local definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#application">Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-construction">Function construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pattern-matching-on-terms">Pattern matching on terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pattern-matching-on-goals">Pattern matching on goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filling-a-term-context">Filling a term context</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generating-fresh-hypothesis-names">Generating fresh hypothesis names</a></li>
<li class="toctree-l3"><a class="reference internal" href="#computing-in-a-constr">Computing in a constr</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recovering-the-type-of-a-term">Recovering the type of a term</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manipulating-untyped-terms">Manipulating untyped terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#counting-the-goals">Counting the goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testing-boolean-expressions">Testing boolean expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#proving-a-subgoal-as-a-separate-lemma">Proving a subgoal as a separate lemma</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tactic-toplevel-definitions">Tactic toplevel definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#defining-ltac-functions">Defining <cite>L</cite><sub>tac</sub> functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#printing-ltac-tactics">Printing <cite>L</cite><sub>tac</sub> tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#debugging-ltac-tactics">Debugging <cite>L</cite><sub>tac</sub> tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#info-trace">Info trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interactive-debugger">Interactive debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="#profiling-ltac-tactics">Profiling <cite>L</cite><sub>tac</sub> tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-time-optimization-tactic">Run-time optimization tactic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="detailed-tactic-examples.html">Detailed examples of tactics</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssreflect-proof-language.html">The <span class="smallcaps">SSReflect</span> proof language</a></li>
</ul>
<p class="caption"><span class="caption-text">ユーザ拡張</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/syntax-extensions.html">Syntax extensions and interpretation scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/proof-schemes.html">Proof schemes</a></li>
</ul>
<p class="caption"><span class="caption-text">実用ツール</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/coq-commands.html">The <span class="smallcaps">Coq</span> commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/coqide.html"><span class="smallcaps">Coq</span> Integrated Development Environment</a></li>
</ul>
<p class="caption"><span class="caption-text">付録</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../addendum/extended-pattern-matching.html">Extended pattern matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/implicit-coercions.html">Implicit Coercions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/canonical-structures.html">Canonical Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/type-classes.html">Type Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/omega.html">Omega: a solver for quantifier-free problems in Presburger Arithmetic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/micromega.html">Micromega: tactics for solving arithmetic goals over ordered rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/extraction.html">Extraction of programs in <span class="smallcaps">OCaml</span> and Haskell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/program.html">Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/ring.html">The ring and field tactic families</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/nsatz.html">Nsatz: tactics for proving equalities in integral domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/generalized-rewriting.html">Generalized rewriting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/parallel-proof-processing.html">Asynchronous and Parallel Proof Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/miscellaneous-extensions.html">Miscellaneous extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/universe-polymorphism.html">Polymorphic Universes</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../zebibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>The tactic language</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/coq/coq/blob/master/doc/sphinx/proof-engine/ltac.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="math-preamble math notranslate">
\[\begin{split}\newcommand{\alors}{\textsf{then}}
\newcommand{\alter}{\textsf{alter}}
\newcommand{\as}{\kw{as}}
\newcommand{\Assum}[3]{\kw{Assum}(#1)(#2:#3)}
\newcommand{\bool}{\textsf{bool}}
\newcommand{\case}{\kw{case}}
\newcommand{\conc}{\textsf{conc}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\conshl}{\textsf{cons\_hl}}
\newcommand{\Def}[4]{\kw{Def}(#1)(#2:=#3:#4)}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\EqSt}{\textsf{EqSt}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\false}{\textsf{false}}
\newcommand{\filter}{\textsf{filter}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\from}{\textsf{from}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\haslength}{\textsf{has\_length}}
\newcommand{\hd}{\textsf{hd}}
\newcommand{\ident}{\textsf{ident}}
\newcommand{\In}{\kw{in}}
\newcommand{\Ind}[4]{\kw{Ind}[#2](#3:=#4)}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[5]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)}
\newcommand{\Indpstr}[6]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)/{#6}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\lb}{\lambda}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\Prod}{\textsf{prod}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\si}{\textsf{if}}
\newcommand{\sinon}{\textsf{else}}
\newcommand{\Sort}{\cal S}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\true}{\textsf{true}}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\unfold}{\textsf{unfold}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\cal W\!F}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\cal W\!F}(#2)}
\newcommand{\WFTWOLINES}[2]{{\cal W\!F}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\newcommand{\zeros}{\textsf{zeros}}
\end{split}\]</div>
<div class="section" id="the-tactic-language">
<span id="ltac"></span><h1>The tactic language<a class="headerlink" href="#the-tactic-language" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>This chapter gives a compact documentation of <cite>L</cite><sub>tac</sub>, the tactic language
available in <span class="smallcaps">Coq</span>. We start by giving the syntax, and next, we present the
informal semantics. If you want to know more regarding this language and
especially about its foundations, you can refer to <a class="reference internal" href="../zebibliography.html#del00" id="id1">[Del00]</a>. Chapter
<a class="reference internal" href="detailed-tactic-examples.html#detailedexamplesoftactics"><span class="std std-ref">Detailed examples of tactics</span></a> is devoted to giving small but nontrivial
use examples of this language.</p>
<div class="section" id="syntax">
<span id="ltac-syntax"></span><h2>Syntax<a class="headerlink" href="#syntax" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The syntax of the tactic language is given below. See Chapter
<a class="reference internal" href="../language/gallina-specification-language.html#gallinaspecificationlanguage"><span class="std std-ref">The Gallina specification language</span></a> for a description of the BNF metasyntax used
in these grammar rules. Various already defined entries will be used in this
chapter: entries <a class="reference internal" href="ssreflect-proof-language.html#grammar-token-natural"><code class="xref std std-token docutils literal notranslate"><span class="pre">natural</span></code></a>, <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref std std-token docutils literal notranslate"><span class="pre">integer</span></code></a>, <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a>,
<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code></a>, <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code></a>, <code class="xref std std-token docutils literal notranslate"><span class="pre">cpattern</span></code> and <code class="xref std std-token docutils literal notranslate"><span class="pre">atomic_tactic</span></code>
represent respectively the natural and integer numbers, the authorized
identificators and qualified names, Coq terms and patterns and all the atomic
tactics described in Chapter&nbsp;<a class="reference internal" href="tactics.html#tactics"><span class="std std-ref">Tactics</span></a>. The syntax of <code class="xref std std-token docutils literal notranslate"><span class="pre">cpattern</span></code> is
the same as that of terms, but it is extended with pattern matching
metavariables. In <code class="xref std std-token docutils literal notranslate"><span class="pre">cpattern</span></code>, a pattern matching metavariable is
represented with the syntax <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">?</span></span><span class="name"><span class="pre">id</span></span></code> where <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">id</span></span></code> is an <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code></a>. The
notation <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">_</span></span></code> can also be used to denote metavariable whose instance is
irrelevant. In the notation <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">?</span></span><span class="name"><span class="pre">id</span></span></code>, the identifier allows us to keep
instantiations and to make constraints whereas <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">_</span></span></code> shows that we are not
interested in what will be matched. On the right hand side of pattern matching
clauses, the named metavariables are used without the question mark prefix. There
is also a special notation for second-order pattern matching problems: in an
applicative pattern of the form <code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">&#64;?</span></span><span class="name"><span class="pre">id</span></span> <span class="name"><span class="pre">id1</span></span> <span class="error"><span class="pre">…</span></span> <span class="name"><span class="pre">idn</span></span></code>, the variable id matches any
complex expression with (possible) dependencies in the variables <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">id1</span></span> <span class="error"><span class="pre">…</span></span> <span class="name"><span class="pre">idn</span></span></code>
and returns a functional term of the form <code class="code Coq docutils literal notranslate"><span class="keyword"><span class="pre">fun</span></span> <span class="name"><span class="pre">id1</span></span> <span class="error"><span class="pre">…</span></span> <span class="name"><span class="pre">idn</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="name"><span class="pre">term</span></span></code>.</p>
<p>The main entry of the grammar is <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code>. This language is used in proof
mode but it can also be used in toplevel definitions as shown below.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<ul class="last">
<li><p class="first">The infix tacticals “… || …”, “… + …”, and “… ; …” are associative.</p>
</li>
<li><p class="first">In <a class="reference internal" href="#grammar-token-tacarg"><code class="xref std std-token docutils literal notranslate"><span class="pre">tacarg</span></code></a>, there is an overlap between qualid as a direct tactic
argument and <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code></a> as a particular case of term. The resolution is
done by first looking for a reference of the tactic language and if
it fails, for a reference to a term. To force the resolution as a
reference of the tactic language, use the form <code class="code Coq docutils literal notranslate"><span class="name"><span class="pre">ltac</span></span><span class="operator"><span class="pre">:(&#64;</span></span><span class="name"><span class="pre">qualid</span></span><span class="operator"><span class="pre">)</span></span></code>. To
force the resolution as a reference to a term, use the syntax
<code class="code Coq docutils literal notranslate"><span class="operator"><span class="pre">(&#64;</span></span><span class="name"><span class="pre">qualid</span></span><span class="operator"><span class="pre">)</span></span></code>.</p>
</li>
<li><p class="first">As shown by the figure, tactical <code class="docutils literal notranslate"><span class="pre">\|\|</span></code> binds more than the prefix
tacticals try, repeat, do and abstract which themselves bind more
than the postfix tactical “… ;[ … ]” which binds more than “… ; …”.</p>
<p>For instance</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-tactic">try</span><span> </span><span class="coqdoc-tactic">repeat</span><span> </span><span class="coqdoc-var">tac1</span><span> || </span><span class="coqdoc-var">tac2</span><span>; </span><span class="coqdoc-var">tac3</span><span>; [</span><span class="coqdoc-var">tac31</span><span> | ... | </span><span class="coqdoc-var">tac3n</span><span>]; </span><span class="coqdoc-var">tac4</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first">Toplevel input, characters 0-3:
&gt; try repeat tac1 || tac2; tac3; [tac31 | ...
&gt; ^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> Syntax error: illegal begin of vernac.

Toplevel input, characters 44-45:
&gt; try repeat tac1 || tac2; tac3; [tac31 | ... | tac3n]; tac4.
&gt;                                             ^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> Syntax error: illegal begin of vernac.</span></dd>
</dl>
</div>
<p>is understood as</p>
<div class="coqtop literal-block docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-tactic">try</span><span> (</span><span class="coqdoc-tactic">repeat</span><span> (</span><span class="coqdoc-var">tac1</span><span> || </span><span class="coqdoc-var">tac2</span><span>));</span><span>
&nbsp;&nbsp;((</span><span class="coqdoc-var">tac3</span><span>; [</span><span class="coqdoc-var">tac31</span><span> | ... | </span><span class="coqdoc-var">tac3n</span><span>]); </span><span class="coqdoc-var">tac4</span><span>).</span></dt>
<dd class="coqtop-hidden"><span class="first">Toplevel input, characters 0-3:
&gt; try (repeat (tac1 || tac2));   ((tac3; [tac31 | ...
&gt; ^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> Syntax error: illegal begin of vernac.

Toplevel input, characters 52-53:
&gt; try (repeat (tac1 || tac2));   ((tac3; [tac31 | ... | tac3n]); tac4).
&gt;                                                     ^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> Syntax error: illegal begin of vernac.</span></dd>
</dl>
</div>
</li>
</ul>
</div>
<pre>
<strong id="grammar-token-expr">expr             </strong> ::=  <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> ; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
                       | [&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> | ... | <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> ]
                       | <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> ; [ <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> | ... | <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> ]
                       | <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
<strong id="grammar-token-tacexpr3">tacexpr3         </strong> ::=  do (<a class="reference internal" href="ssreflect-proof-language.html#grammar-token-natural"><code class="xref docutils literal notranslate"><span class="pre">natural</span></code></a> | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a>) tacexpr3
                       | progress <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | repeat <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | try <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | once <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | exactly_once <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | timeout (<a class="reference internal" href="ssreflect-proof-language.html#grammar-token-natural"><code class="xref docutils literal notranslate"><span class="pre">natural</span></code></a> | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a>) <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | time [<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><code class="xref docutils literal notranslate"><span class="pre">string</span></code></a>] <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | only <a class="reference internal" href="#grammar-token-selector"><code class="xref docutils literal notranslate"><span class="pre">selector</span></code></a>: <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | <a class="reference internal" href="#grammar-token-tacexpr2"><code class="xref docutils literal notranslate"><span class="pre">tacexpr2</span></code></a>
<strong id="grammar-token-tacexpr2">tacexpr2         </strong> ::=  <a class="reference internal" href="#grammar-token-tacexpr1"><code class="xref docutils literal notranslate"><span class="pre">tacexpr1</span></code></a> || <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | <a class="reference internal" href="#grammar-token-tacexpr1"><code class="xref docutils literal notranslate"><span class="pre">tacexpr1</span></code></a> + <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | tryif <a class="reference internal" href="#grammar-token-tacexpr1"><code class="xref docutils literal notranslate"><span class="pre">tacexpr1</span></code></a> then <a class="reference internal" href="#grammar-token-tacexpr1"><code class="xref docutils literal notranslate"><span class="pre">tacexpr1</span></code></a> else <a class="reference internal" href="#grammar-token-tacexpr1"><code class="xref docutils literal notranslate"><span class="pre">tacexpr1</span></code></a>
                       | <a class="reference internal" href="#grammar-token-tacexpr1"><code class="xref docutils literal notranslate"><span class="pre">tacexpr1</span></code></a>
<strong id="grammar-token-tacexpr1">tacexpr1         </strong> ::=  fun <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-name"><code class="xref docutils literal notranslate"><span class="pre">name</span></code></a> ... <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-name"><code class="xref docutils literal notranslate"><span class="pre">name</span></code></a> =&gt; <a class="reference internal" href="#grammar-token-atom"><code class="xref docutils literal notranslate"><span class="pre">atom</span></code></a>
                       | let [rec] <a class="reference internal" href="#grammar-token-let_clause"><code class="xref docutils literal notranslate"><span class="pre">let_clause</span></code></a> with ... with <a class="reference internal" href="#grammar-token-let_clause"><code class="xref docutils literal notranslate"><span class="pre">let_clause</span></code></a> in <a class="reference internal" href="#grammar-token-atom"><code class="xref docutils literal notranslate"><span class="pre">atom</span></code></a>
                       | match goal with <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> end
                       | match reverse goal with <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> end
                       | match <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> with <a class="reference internal" href="#grammar-token-match_rule"><code class="xref docutils literal notranslate"><span class="pre">match_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-match_rule"><code class="xref docutils literal notranslate"><span class="pre">match_rule</span></code></a> end
                       | lazymatch goal with <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> end
                       | lazymatch reverse goal with <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> end
                       | lazymatch <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> with <a class="reference internal" href="#grammar-token-match_rule"><code class="xref docutils literal notranslate"><span class="pre">match_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-match_rule"><code class="xref docutils literal notranslate"><span class="pre">match_rule</span></code></a> end
                       | multimatch goal with <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> end
                       | multimatch reverse goal with <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-context_rule"><code class="xref docutils literal notranslate"><span class="pre">context_rule</span></code></a> end
                       | multimatch <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> with <a class="reference internal" href="#grammar-token-match_rule"><code class="xref docutils literal notranslate"><span class="pre">match_rule</span></code></a> | ... | <a class="reference internal" href="#grammar-token-match_rule"><code class="xref docutils literal notranslate"><span class="pre">match_rule</span></code></a> end
                       | abstract <a class="reference internal" href="#grammar-token-atom"><code class="xref docutils literal notranslate"><span class="pre">atom</span></code></a>
                       | abstract <a class="reference internal" href="#grammar-token-atom"><code class="xref docutils literal notranslate"><span class="pre">atom</span></code></a> using <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a>
                       | first [ <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> | ... | <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> ]
                       | solve [ <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> | ... | <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> ]
                       | idtac [ <a class="reference internal" href="#grammar-token-message_token"><code class="xref docutils literal notranslate"><span class="pre">message_token</span></code></a> ... <a class="reference internal" href="#grammar-token-message_token"><code class="xref docutils literal notranslate"><span class="pre">message_token</span></code></a>]
                       | fail [<a class="reference internal" href="ssreflect-proof-language.html#grammar-token-natural"><code class="xref docutils literal notranslate"><span class="pre">natural</span></code></a>] [<a class="reference internal" href="#grammar-token-message_token"><code class="xref docutils literal notranslate"><span class="pre">message_token</span></code></a> ... <a class="reference internal" href="#grammar-token-message_token"><code class="xref docutils literal notranslate"><span class="pre">message_token</span></code></a>]
                       | fresh [ <a class="reference internal" href="#grammar-token-component"><code class="xref docutils literal notranslate"><span class="pre">component</span></code></a> … <a class="reference internal" href="#grammar-token-component"><code class="xref docutils literal notranslate"><span class="pre">component</span></code></a> ]
                       | context <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a> [<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref docutils literal notranslate"><span class="pre">term</span></code></a>]
                       | eval <code class="xref docutils literal notranslate"><span class="pre">redexpr</span></code> in <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref docutils literal notranslate"><span class="pre">term</span></code></a>
                       | type of <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref docutils literal notranslate"><span class="pre">term</span></code></a>
                       | constr : <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref docutils literal notranslate"><span class="pre">term</span></code></a>
                       | uconstr : <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref docutils literal notranslate"><span class="pre">term</span></code></a>
                       | type_term <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref docutils literal notranslate"><span class="pre">term</span></code></a>
                       | numgoals
                       | guard <a class="reference internal" href="#grammar-token-test"><code class="xref docutils literal notranslate"><span class="pre">test</span></code></a>
                       | assert_fails <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | assert_succeeds <a class="reference internal" href="#grammar-token-tacexpr3"><code class="xref docutils literal notranslate"><span class="pre">tacexpr3</span></code></a>
                       | <code class="xref docutils literal notranslate"><span class="pre">atomic_tactic</span></code>
                       | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><code class="xref docutils literal notranslate"><span class="pre">qualid</span></code></a> <a class="reference internal" href="#grammar-token-tacarg"><code class="xref docutils literal notranslate"><span class="pre">tacarg</span></code></a> ... <a class="reference internal" href="#grammar-token-tacarg"><code class="xref docutils literal notranslate"><span class="pre">tacarg</span></code></a>
                       | <a class="reference internal" href="#grammar-token-atom"><code class="xref docutils literal notranslate"><span class="pre">atom</span></code></a>
<strong id="grammar-token-atom">atom             </strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><code class="xref docutils literal notranslate"><span class="pre">qualid</span></code></a>
                       | ()
                       | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a>
                       | ( <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a> )
<strong id="grammar-token-component">component        </strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><code class="xref docutils literal notranslate"><span class="pre">string</span></code></a> | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><code class="xref docutils literal notranslate"><span class="pre">qualid</span></code></a>
<strong id="grammar-token-message_token">message_token    </strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><code class="xref docutils literal notranslate"><span class="pre">string</span></code></a> | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a> | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a>
<strong id="grammar-token-tacarg">tacarg           </strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><code class="xref docutils literal notranslate"><span class="pre">qualid</span></code></a>
                       | ()
                       | ltac : <a class="reference internal" href="#grammar-token-atom"><code class="xref docutils literal notranslate"><span class="pre">atom</span></code></a>
                       | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><code class="xref docutils literal notranslate"><span class="pre">term</span></code></a>
<strong id="grammar-token-let_clause">let_clause       </strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a> [<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-name"><code class="xref docutils literal notranslate"><span class="pre">name</span></code></a> ... <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-name"><code class="xref docutils literal notranslate"><span class="pre">name</span></code></a>] := <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
<strong id="grammar-token-context_rule">context_rule     </strong> ::=  <a class="reference internal" href="#grammar-token-context_hyp"><code class="xref docutils literal notranslate"><span class="pre">context_hyp</span></code></a>, ..., <a class="reference internal" href="#grammar-token-context_hyp"><code class="xref docutils literal notranslate"><span class="pre">context_hyp</span></code></a> |- <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code> =&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
                       | <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code> =&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
                       | |- <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code> =&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
                       | _ =&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
<strong id="grammar-token-context_hyp">context_hyp      </strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-name"><code class="xref docutils literal notranslate"><span class="pre">name</span></code></a> : <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code>
                       | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-name"><code class="xref docutils literal notranslate"><span class="pre">name</span></code></a> := <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code> [: <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code>]
<strong id="grammar-token-match_rule">match_rule       </strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code> =&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
                       | context [ident] [ <code class="xref docutils literal notranslate"><span class="pre">cpattern</span></code> ] =&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
                       | _ =&gt; <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
<strong id="grammar-token-test">test             </strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a> = <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a>
                       | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a> (&lt; | &lt;= | &gt; | &gt;=) <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a>
<strong id="grammar-token-selector">selector         </strong> ::=  [<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a>]
                       | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a>
                       (<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a> | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a> - <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a>), ..., (<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a> | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a> - <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-integer"><code class="xref docutils literal notranslate"><span class="pre">integer</span></code></a>)
<strong id="grammar-token-toplevel_selector">toplevel_selector</strong> ::=  <a class="reference internal" href="#grammar-token-selector"><code class="xref docutils literal notranslate"><span class="pre">selector</span></code></a>
                       | <code class="xref docutils literal notranslate"><span class="pre">all</span></code>
                       | <code class="xref docutils literal notranslate"><span class="pre">par</span></code>
</pre>
<pre>
<strong id="grammar-token-top">top     </strong> ::=  [Local] Ltac <a class="reference internal" href="#grammar-token-ltac_def"><code class="xref docutils literal notranslate"><span class="pre">ltac_def</span></code></a> with ... with <a class="reference internal" href="#grammar-token-ltac_def"><code class="xref docutils literal notranslate"><span class="pre">ltac_def</span></code></a>
<strong id="grammar-token-ltac_def">ltac_def</strong> ::=  <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a> [<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a> ... <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a>] := <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
              | <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><code class="xref docutils literal notranslate"><span class="pre">qualid</span></code></a> [<a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a> ... <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><code class="xref docutils literal notranslate"><span class="pre">ident</span></code></a>] ::= <a class="reference internal" href="#grammar-token-expr"><code class="xref docutils literal notranslate"><span class="pre">expr</span></code></a>
</pre>
</div>
<div class="section" id="semantics">
<span id="ltac-semantics"></span><h2>Semantics<a class="headerlink" href="#semantics" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Tactic expressions can only be applied in the context of a proof. The
evaluation yields either a term, an integer or a tactic. Intermediate
results can be terms or integers but the final result must be a tactic
which is then applied to the focused goals.</p>
<p>There is a special case for <code class="docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span></code> expressions of which the clauses
evaluate to tactics. Such expressions can only be used as end result of
a tactic expression (never as argument of a non-recursive local
definition or of an application).</p>
<p>The rest of this section explains the semantics of every construction of
<cite>L</cite><sub>tac</sub>.</p>
<div class="section" id="sequence">
<h3>Sequence<a class="headerlink" href="#sequence" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>A sequence is an expression of the following form:</p>
<dl class="tacn">
<dt id="coq:tacn.ltac-seq">
<code class="descname"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>1</sub></span></a> <span>;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>2</sub></span></a></span></code><a class="headerlink" href="#coq:tacn.ltac-seq" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The expression <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code>, which must be
a tactic value. The tactic <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> is applied to the current goal,
possibly producing more goals. Then <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a></span></code> is evaluated to
produce <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code>, which must be a tactic value. The tactic
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> is applied to all the goals produced by the prior
application. Sequence is associative.</p>
</dd></dl>

</div>
<div class="section" id="local-application-of-tactics">
<h3>Local application of tactics<a class="headerlink" href="#local-application-of-tactics" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Different tactics can be applied to the different goals using the
following form:</p>
<dl class="tacn">
<dt id="coq:tacn.dispatch">
<code class="descname"><span class="notation"><span>[&gt;</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span><span>]</span></span></code><a class="headerlink" href="#coq:tacn.dispatch" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The expressions <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> are evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code>, for
i = 0, ..., n and all have to be tactics. The <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code> is applied to the
i-th goal, for i = 1, ..., n. It fails if the number of focused goals is not
exactly n.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">If no tactic is given for the i-th goal, it behaves as if the tactic idtac
were given. For instance, <code class="docutils literal notranslate"><span class="pre">[&gt;</span> <span class="pre">|</span> <span class="pre">auto]</span></code> is a shortcut for <code class="docutils literal notranslate"><span class="pre">[&gt;</span> <span class="pre">idtac</span> <span class="pre">|</span> <span class="pre">auto</span>
<span class="pre">]</span></code>.</p>
</div>
<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>[&gt;</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>i</sub></span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span> <span>|</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>..</span> <span>|</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>j</sub></span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span><span>]</span></span></code></dt>
<dd><p>In this variant, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is used for each goal coming after those
covered by the list of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> but before those covered by the
list of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">j</span></sub></span></a></span></code>.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>[&gt;</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span> <span>|</span> <span>..</span> <span>|</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span><span>]</span></span></code></dt>
<dd><p>In this variant, idtac is used for the goals not covered by the two lists of
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code>.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>[&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>..</span> <span>]</span></span></code></dt>
<dd><p>In this variant, the tactic <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is applied independently to each of
the goals, rather than globally. In particular, if there are no goals, the
tactic is not run at all. A tactic which expects multiple goals, such as
<code class="docutils literal notranslate"><span class="pre">swap</span></code>, would act as if a single goal is focused.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>0</sub></span></a> <span>;</span> <span>[</span><span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>i</sub></span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span><span>]</span></span></code></dt>
<dd><p>This variant of local tactic application is paired with a sequence. In this
variant, there must be as many <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> as goals generated
by the application of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">0</span></sub></span></a></span></code> to each of the individual goals
independently. All the above variants work in this form too.
Formally, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a> <span><span class="pre">;</span></span> <span><span class="pre">[</span></span> <span><span class="pre">...</span></span> <span><span class="pre">]</span></span></span></code> is equivalent to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">[&gt;</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a> <span><span class="pre">;</span></span> <span><span class="pre">[&gt;</span></span> <span><span class="pre">...</span></span> <span><span class="pre">]</span></span> <span><span class="pre">..</span></span> <span><span class="pre">]</span></span></span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="goal-selectors">
<span id="id2"></span><h3>Goal selectors<a class="headerlink" href="#goal-selectors" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We can restrict the application of a tactic to a subset of the currently
focused goals with:</p>
<dl class="tacn">
<dt id="coq:tacn.goal-selector">
<code class="descname"><span class="notation"><a class="reference internal" href="#grammar-token-toplevel_selector"><span class="hole">toplevel_selector</span></a> <span>:</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.goal-selector" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>We can also use selectors as a tactical, which allows to use them nested
in a tactic expression, by using the keyword <code class="docutils literal notranslate"><span class="pre">only</span></code>:</p>
<dl class="tacv">
<dt id="coq:tacv.only">
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>only</span> <a class="reference internal" href="#grammar-token-selector"><span class="hole">selector</span></a> <span>:</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacv.only" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>When selecting several goals, the tactic <a class="reference internal" href="#grammar-token-expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">expr</span></code></a> is applied globally to all
selected goals.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>[</span><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a><span>]</span> <span>:</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>In this variant, <a class="reference internal" href="#grammar-token-expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">expr</span></code></a> is applied locally to a goal previously named
by the user (see <a class="reference internal" href="../language/gallina-extensions.html#existential-variables"><span class="std std-ref">Existential variables</span></a>).</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a> <span>:</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>In this variant, <a class="reference internal" href="#grammar-token-expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">expr</span></code></a> is applied locally to the <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><code class="xref std std-token docutils literal notranslate"><span class="pre">num</span></code></a>-th goal.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a><span>-</span><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a></span><span class="notation-sup">+</span><span class="notation-sub">,</span></span> <span>:</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>In this variant, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is applied globally to the subset of goals
described by the given ranges. You can write a single <code class="docutils literal notranslate"><span class="pre">n</span></code> as a shortcut
for <code class="docutils literal notranslate"><span class="pre">n-n</span></code> when specifying multiple ranges.</p>
</dd></dl>

<dl class="tacv">
<dt id="coq:tacv.all">
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>all:</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacv.all" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>In this variant, <a class="reference internal" href="#grammar-token-expr"><code class="xref std std-token docutils literal notranslate"><span class="pre">expr</span></code></a> is applied to all focused goals. <code class="docutils literal notranslate"><span class="pre">all:</span></code> can only
be used at the toplevel of a tactic expression.</p>
</dd></dl>

<dl class="tacv">
<dt id="coq:tacv.par">
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>par:</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacv.par" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>In this variant, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is applied to all focused goals in parallel.
The number of workers can be controlled via the command line option
<code class="docutils literal notranslate"><span class="pre">-async-proofs-tac-j</span></code> taking as argument the desired number of workers.
Limitations: <code class="docutils literal notranslate"><span class="pre">par:</span></code> only works on goals containing no existential
variables and <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> must either solve the goal completely or do
nothing (i.e. it cannot make some progress). <code class="docutils literal notranslate"><span class="pre">par:</span></code> can only be used at
the toplevel of a tactic expression.</p>
</dd></dl>

<dl class="exn">
<dt id="coq:exn.no-such-goal-goal-selector">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>No</span> <span>such</span> <span>goal.</span></span></code><a class="headerlink" href="#coq:exn.no-such-goal-goal-selector" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="for-loop">
<h3>For loop<a class="headerlink" href="#for-loop" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>There is a for loop that repeats a tactic <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><code class="xref std std-token docutils literal notranslate"><span class="pre">num</span></code></a> times:</p>
<dl class="tacn">
<dt id="coq:tacn.do">
<code class="descname"><span class="notation"><span>do</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.do" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">v</span></code> which must be a tactic value. This tactic
value <code class="docutils literal notranslate"><span class="pre">v</span></code> is applied <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><code class="xref std std-token docutils literal notranslate"><span class="pre">num</span></code></a> times. Supposing <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><code class="xref std std-token docutils literal notranslate"><span class="pre">num</span></code></a> &gt; 1, after the
first application of <code class="docutils literal notranslate"><span class="pre">v</span></code>, <code class="docutils literal notranslate"><span class="pre">v</span></code> is applied, at least once, to the generated
subgoals and so on. It fails if the application of <code class="docutils literal notranslate"><span class="pre">v</span></code> fails before the num
applications have been completed.</p>
</dd></dl>

</div>
<div class="section" id="repeat-loop">
<h3>Repeat loop<a class="headerlink" href="#repeat-loop" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We have a repeat loop with:</p>
<dl class="tacn">
<dt id="coq:tacn.repeat">
<code class="descname"><span class="notation"><span>repeat</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.repeat" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">v</span></code>. If <code class="docutils literal notranslate"><span class="pre">v</span></code> denotes a tactic, this tactic is
applied to each focused goal independently. If the application succeeds, the
tactic is applied recursively to all the generated subgoals until it eventually
fails. The recursion stops in a subgoal when the tactic has failed <em>to make
progress</em>. The tactic <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">repeat</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> itself never fails.</p>
</dd></dl>

</div>
<div class="section" id="error-catching">
<h3>Error catching<a class="headerlink" href="#error-catching" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We can catch the tactic errors with:</p>
<dl class="tacn">
<dt id="coq:tacn.try">
<code class="descname"><span class="notation"><span>try</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.try" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">v</span></code> which must be a tactic value. The tactic
value <code class="docutils literal notranslate"><span class="pre">v</span></code> is applied to each focused goal independently. If the application of
<code class="docutils literal notranslate"><span class="pre">v</span></code> fails in a goal, it catches the error and leaves the goal unchanged. If the
level of the exception is positive, then the exception is re-raised with its
level decremented.</p>
</dd></dl>

</div>
<div class="section" id="detecting-progress">
<h3>Detecting progress<a class="headerlink" href="#detecting-progress" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We can check if a tactic made progress with:</p>
<dl class="tacn">
<dt id="coq:tacn.progress">
<code class="descname"><span class="notation"><span>progress</span> <span>expr</span></span></code><a class="headerlink" href="#coq:tacn.progress" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to v which must be a tactic value. The tactic value <code class="docutils literal notranslate"><span class="pre">v</span></code>
is applied to each focued subgoal independently. If the application of <code class="docutils literal notranslate"><span class="pre">v</span></code>
to one of the focused subgoal produced subgoals equal to the initial
goals (up to syntactical equality), then an error of level 0 is raised.</p>
<dl class="exn">
<dt id="coq:exn.failed-to-progress">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Failed</span> <span>to</span> <span>progress.</span></span></code><a class="headerlink" href="#coq:exn.failed-to-progress" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="backtracking-branching">
<h3>Backtracking branching<a class="headerlink" href="#backtracking-branching" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We can branch with the following structure:</p>
<dl class="tacn">
<dt id="coq:tacn.backtracking-branching">
<code class="descname"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>1</sub></span></a> <span>+</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>2</sub></span></a></span></code><a class="headerlink" href="#coq:tacn.backtracking-branching" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> and <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a></span></code> are evaluated respectively to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> and
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> which must be tactic values. The tactic value <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> is applied to
each focused goal independently and if it fails or a later tactic fails, then
the proof backtracks to the current goal and <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> is applied.</p>
<p>Tactics can be seen as having several successes. When a tactic fails it
asks for more successes of the prior tactics.
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">+</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a></span></code> has all the successes of <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> followed by all the
successes of <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code>. Algebraically,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">(</span></span><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">+</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a><span><span class="pre">);</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">3</span></sub></span></a> <span><span class="pre">=</span></span> <span><span class="pre">(</span></span><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a><span><span class="pre">;</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">3</span></sub></span></a><span><span class="pre">)</span></span> <span><span class="pre">+</span></span> <span><span class="pre">(</span></span><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a><span><span class="pre">;</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">3</span></sub></span></a><span><span class="pre">)</span></span></span></code>.</p>
<p>Branching is left-associative.</p>
</dd></dl>

</div>
<div class="section" id="first-tactic-to-work">
<h3>First tactic to work<a class="headerlink" href="#first-tactic-to-work" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Backtracking branching may be too expensive. In this case we may
restrict to a local, left biased, branching and consider the first
tactic to work (i.e. which does not fail) among a panel of tactics:</p>
<dl class="tacn">
<dt id="coq:tacn.first">
<code class="descname"><span class="notation"><span>first</span> <span>[</span><span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span><span>]</span></span></code><a class="headerlink" href="#coq:tacn.first" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> are evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code> must be
tactic values for i = 1, ..., n. Supposing n &gt; 1,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">first</span></span> <span><span class="pre">[</span></span><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">|</span></span> <span><span class="pre">...</span></span> <span><span class="pre">|</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">n</span></sub></span></a><span><span class="pre">]</span></span></span></code> applies <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> in each
focused goal independently and stops if it succeeds; otherwise it
tries to apply <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> and so on. It fails when there is no
applicable tactic. In other words,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">first</span></span> <span><span class="pre">[</span></span><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">|</span></span> <span><span class="pre">...</span></span> <span><span class="pre">|</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">n</span></sub></span></a><span><span class="pre">]</span></span></span></code> behaves, in each goal, as the first
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code> to have <em>at least</em> one success.</p>
<dl class="exn">
<dt id="coq:exn.no-applicable-tactic">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>No</span> <span>applicable</span> <span>tactic.</span></span></code><a class="headerlink" href="#coq:exn.no-applicable-tactic" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>first</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>This is an <cite>L</cite><sub>tac</sub> alias that gives a primitive access to the first
tactical as an <cite>L</cite><sub>tac</sub> definition without going through a parsing rule. It
expects to be given a list of tactics through a <code class="docutils literal notranslate"><span class="pre">Tactic</span> <span class="pre">Notation</span></code>,
allowing to write notations of the following form:</p>
<div class="admonition note">
<p class="first admonition-title">Example</p>
<div class="coqtop literal-block last docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Tactic Notation</span><span> &quot;foo&quot; </span><span class="coqdoc-var">tactic_list</span><span>(</span><span class="coqdoc-var">tacs</span><span>) := </span><span class="coqdoc-tactic">first</span><span> </span><span class="coqdoc-var">tacs</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
</dl>
</div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="left-biased-branching">
<h3>Left-biased branching<a class="headerlink" href="#left-biased-branching" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Yet another way of branching without backtracking is the following
structure:</p>
<dl class="tacn">
<dt id="coq:tacn.left-biased-branching">
<code class="descname"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>1</sub></span></a> <span>||</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>2</sub></span></a></span></code><a class="headerlink" href="#coq:tacn.left-biased-branching" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> and <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a></span></code> are evaluated respectively to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> and
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> which must be tactic values. The tactic value <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> is
applied in each subgoal independently and if it fails <em>to progress</em> then
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> is applied. <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">||</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a></span></code> is
equivalent to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">first</span></span> <span><span class="pre">[</span></span> <span><span class="pre">progress</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">|</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a> <span><span class="pre">]</span></span></span></code> (except that
if it fails, it fails like <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code>). Branching is left-associative.</p>
</dd></dl>

</div>
<div class="section" id="generalized-biased-branching">
<h3>Generalized biased branching<a class="headerlink" href="#generalized-biased-branching" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The tactic</p>
<dl class="tacn">
<dt id="coq:tacn.tryif">
<code class="descname"><span class="notation"><span>tryif</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>1</sub></span></a> <span>then</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>2</sub></span></a> <span>else</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>3</sub></span></a></span></code><a class="headerlink" href="#coq:tacn.tryif" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>is a generalization of the biased-branching tactics above. The
expression <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code>, which is then
applied to each subgoal independently. For each goal where <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code>
succeeds at least once, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> which
is then applied collectively to the generated subgoals. The <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code>
tactic can trigger backtracking points in <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code>: where <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code>
succeeds at least once,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">tryif</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">then</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">2</span></sub></span></a> <span><span class="pre">else</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">3</span></sub></span></a></span></code> is equivalent to
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span><span><span class="pre">;</span></span> <span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code>. In each of the goals where <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> does not succeed at least
once, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">3</span></sub></span></a></span></code> is evaluated in <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">3</span></sub></span></span></code> which is is then applied to the
goal.</p>
</dd></dl>

</div>
<div class="section" id="soft-cut">
<h3>Soft cut<a class="headerlink" href="#soft-cut" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Another way of restricting backtracking is to restrict a tactic to a
single success <em>a posteriori</em>:</p>
<dl class="tacn">
<dt id="coq:tacn.once">
<code class="descname"><span class="notation"><span>once</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.once" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">v</span></code> which must be a tactic value. The tactic value
<code class="docutils literal notranslate"><span class="pre">v</span></code> is applied but only its first success is used. If <code class="docutils literal notranslate"><span class="pre">v</span></code> fails,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">once</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> fails like <code class="docutils literal notranslate"><span class="pre">v</span></code>. If <code class="docutils literal notranslate"><span class="pre">v</span></code> has at least one success,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">once</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> succeeds once, but cannot produce more successes.</p>
</dd></dl>

</div>
<div class="section" id="checking-the-successes">
<h3>Checking the successes<a class="headerlink" href="#checking-the-successes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Coq provides an experimental way to check that a tactic has <em>exactly
one</em> success:</p>
<dl class="tacn">
<dt id="coq:tacn.exactly-once">
<code class="descname"><span class="notation"><span>exactly</span><span>_</span><span>once</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.exactly-once" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">v</span></code> which must be a tactic value. The tactic value
<code class="docutils literal notranslate"><span class="pre">v</span></code> is applied if it has at most one success. If <code class="docutils literal notranslate"><span class="pre">v</span></code> fails,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">exactly</span></span><span><span class="pre">_</span></span><span><span class="pre">once</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> fails like <code class="docutils literal notranslate"><span class="pre">v</span></code>. If <code class="docutils literal notranslate"><span class="pre">v</span></code> has a exactly one success,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">exactly</span></span><span><span class="pre">_</span></span><span><span class="pre">once</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> succeeds like <code class="docutils literal notranslate"><span class="pre">v</span></code>. If <code class="docutils literal notranslate"><span class="pre">v</span></code> has two or more
successes, exactly_once expr fails.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">The experimental status of this tactic pertains to the fact if <code class="docutils literal notranslate"><span class="pre">v</span></code>
performs side effects, they may occur in an unpredictable way. Indeed,
normally <code class="docutils literal notranslate"><span class="pre">v</span></code> would only be executed up to the first success until
backtracking is needed, however exactly_once needs to look ahead to see
whether a second success exists, and may run further effects
immediately.</p>
</div>
<dl class="exn">
<dt id="coq:exn.this-tactic-has-more-than-one-success">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>This</span> <span>tactic</span> <span>has</span> <span>more</span> <span>than</span> <span>one</span> <span>success.</span></span></code><a class="headerlink" href="#coq:exn.this-tactic-has-more-than-one-success" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="checking-the-failure">
<h3>Checking the failure<a class="headerlink" href="#checking-the-failure" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Coq provides a derived tactic to check that a tactic <em>fails</em>:</p>
<dl class="tacn">
<dt id="coq:tacn.assert-fails">
<code class="descname"><span class="notation"><span>assert</span><span>_</span><span>fails</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.assert-fails" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This behaves like <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">tryif</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a> <span><span class="pre">then</span></span> <span><span class="pre">fail</span></span> <span><span class="pre">0</span></span> <span><span class="pre">tac</span></span> <span><span class="pre">&quot;succeeds&quot;</span></span> <span><span class="pre">else</span></span> <span><span class="pre">idtac</span></span></span></code>.</p>
</dd></dl>

</div>
<div class="section" id="checking-the-success">
<h3>Checking the success<a class="headerlink" href="#checking-the-success" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Coq provides a derived tactic to check that a tactic has <em>at least one</em>
success:</p>
<dl class="tacn">
<dt id="coq:tacn.assert-succeeds">
<code class="descname"><span class="notation"><span>assert</span><span>_</span><span>succeeds</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.assert-succeeds" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This behaves like
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">tryif</span></span> <span><span class="pre">(assert</span></span><span><span class="pre">_</span></span><span><span class="pre">fails</span></span> <span><span class="pre">tac)</span></span> <span><span class="pre">then</span></span> <span><span class="pre">fail</span></span> <span><span class="pre">0</span></span> <span><span class="pre">tac</span></span> <span><span class="pre">&quot;fails&quot;</span></span> <span><span class="pre">else</span></span> <span><span class="pre">idtac</span></span></span></code>.</p>
</dd></dl>

</div>
<div class="section" id="solving">
<h3>Solving<a class="headerlink" href="#solving" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We may consider the first to solve (i.e. which generates no subgoal)
among a panel of tactics:</p>
<dl class="tacn">
<dt id="coq:tacn.solve">
<code class="descname"><span class="notation"><span>solve</span> <span>[</span><span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">*</span><span class="notation-sub">|</span></span><span>]</span></span></code><a class="headerlink" href="#coq:tacn.solve" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> are evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code> must be
tactic values, for i = 1, ..., n. Supposing n &gt; 1,
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">solve</span></span> <span><span class="pre">[</span></span><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">|</span></span> <span><span class="pre">...</span></span> <span><span class="pre">|</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">n</span></sub></span></a><span><span class="pre">]</span></span></span></code> applies <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> to
each goal independently and stops if it succeeds; otherwise it tries to
apply <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">2</span></sub></span></span></code> and so on. It fails if there is no solving tactic.</p>
<dl class="exn">
<dt id="coq:exn.cannot-solve-the-goal">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Cannot</span> <span>solve</span> <span>the</span> <span>goal.</span></span></code><a class="headerlink" href="#coq:exn.cannot-solve-the-goal" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>solve</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>This is an <cite>L</cite><sub>tac</sub> alias that gives a primitive access to the <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">solve:</span></span></span></code>
tactical. See the <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">first</span></span></span></code> tactical for more information.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="identity">
<h3>Identity<a class="headerlink" href="#identity" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The constant <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">idtac</span></span></span></code> is the identity tactic: it leaves any goal unchanged but
it appears in the proof script.</p>
<dl class="tacn">
<dt id="coq:tacn.idtac">
<code class="descname"><span class="notation"><span>idtac</span> <span class="repeat-wrapper"><span class="repeat"><span>message</span><span>_</span><span>token</span></span><span class="notation-sup">*</span></span></span></code><a class="headerlink" href="#coq:tacn.idtac" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This prints the given tokens. Strings and integers are printed
literally. If a (term) variable is given, its contents are printed.</p>
</dd></dl>

</div>
<div class="section" id="failing">
<h3>Failing<a class="headerlink" href="#failing" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="tacn">
<dt id="coq:tacn.fail">
<code class="descname"><span class="notation"><span>fail</span></span></code><a class="headerlink" href="#coq:tacn.fail" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This is the always-failing tactic: it does not solve any
goal. It is useful for defining other tacticals since it can be caught by
<a class="reference internal" href="#coq:tacn.try" title="try"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">try</span></code></a>, <a class="reference internal" href="#coq:tacn.repeat" title="repeat"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">repeat</span></code></a>, <a class="reference internal" href="#coq:tacn.match-goal" title="match goal"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span></code></a>, or the branching tacticals.</p>
<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>fail</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a></span></code></dt>
<dd><p>The number is the failure level. If no level is specified, it defaults to 0.
The level is used by <a class="reference internal" href="#coq:tacn.try" title="try"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">try</span></code></a>, <a class="reference internal" href="#coq:tacn.repeat" title="repeat"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">repeat</span></code></a>, <a class="reference internal" href="#coq:tacn.match-goal" title="match goal"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span></code></a> and the branching
tacticals. If 0, it makes <a class="reference internal" href="#coq:tacn.match-goal" title="match goal"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span></code></a> consider the next clause
(backtracking). If nonzero, the current <a class="reference internal" href="#coq:tacn.match-goal" title="match goal"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">match</span> <span class="pre">goal</span></code></a> block, <a class="reference internal" href="#coq:tacn.try" title="try"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">try</span></code></a>,
<a class="reference internal" href="#coq:tacn.repeat" title="repeat"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">repeat</span></code></a>, or branching command is aborted and the level is decremented. In
the case of <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">+</span></span></span></code>, a nonzero level skips the first backtrack point, even if
the call to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">fail</span></span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole"><span class="pre">num</span></span></a></span></code> is not enclosed in a <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">+</span></span></span></code> command,
respecting the algebraic identity.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>fail</span> <span class="repeat-wrapper"><span class="repeat"><span>message</span><span>_</span><span>token</span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>The given tokens are used for printing the failure message.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>fail</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a> <span class="repeat-wrapper"><span class="repeat"><span>message</span><span>_</span><span>token</span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>This is a combination of the previous variants.</p>
</dd></dl>

<dl class="tacv">
<dt id="coq:tacv.gfail">
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>gfail</span></span></code><a class="headerlink" href="#coq:tacv.gfail" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This variant fails even when used after <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">;</span></span></span></code> and there are no goals left.
Similarly, <code class="docutils literal notranslate"><span class="pre">gfail</span></code> fails even when used after <code class="docutils literal notranslate"><span class="pre">all:</span></code> and there are no
goals left. See the example for clarification.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>gfail</span> <span class="repeat-wrapper"><span class="repeat"><span>message</span><span>_</span><span>token</span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd></dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>gfail</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a> <span class="repeat-wrapper"><span class="repeat"><span>message</span><span>_</span><span>token</span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>These variants fail with an error message or an error level even if
there are no goals left. Be careful however if Coq terms have to be
printed as part of the failure: term construction always forces the
tactic into the goals, meaning that if there are no goals when it is
evaluated, a tactic call like <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">let</span></span> <span><span class="pre">x</span></span> <span><span class="pre">:=</span></span> <span><span class="pre">H</span></span> <span><span class="pre">in</span></span> <span><span class="pre">fail</span></span> <span><span class="pre">0</span></span> <span><span class="pre">x</span></span></span></code> will succeed.</p>
</dd></dl>

<dl class="exn">
<dt id="coq:exn.tactic-failure-message-level-num">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Tactic</span> <span>Failure</span> <span>message</span> <span>(level</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a><span>).</span></span></code><a class="headerlink" href="#coq:exn.tactic-failure-message-level-num" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<dl class="exn">
<dt id="coq:exn.no-such-goal-fail">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>No</span> <span>such</span> <span>goal.</span></span></code><a class="headerlink" href="#coq:exn.no-such-goal-fail" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<div class="admonition note">
<p class="first admonition-title">Example</p>
<div class="coqtop literal-block last docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-tactic">fail</span><span>.</span></dt>
<dd><span class="first">Toplevel input, characters 0-5:
&gt; fail.
&gt; ^^^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> Tactic failure.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-tactic">trivial</span><span>; </span><span class="coqdoc-tactic">fail</span><span>.</span></dt>
<dd><span class="first last">No more subgoals.</span></dd>
<dt><span class="coqdoc-keyword">Qed</span><span>.</span></dt>
<dd><span class="first last">Unnamed_thm is defined</span></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-tactic">trivial</span><span>.</span></dt>
<dd><span class="first last">No more subgoals.</span></dd>
<dt><span class="coqdoc-tactic">fail</span><span>.</span></dt>
<dd><span class="first">Toplevel input, characters 0-5:
&gt; fail.
&gt; ^^^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> No such goal.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-tactic">trivial</span><span>.</span></dt>
<dd><span class="first last">No more subgoals.</span></dd>
<dt><span class="coqdoc-var">all</span><span>: </span><span class="coqdoc-tactic">fail</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Qed</span><span>.</span></dt>
<dd><span class="first last">Unnamed_thm0 is defined</span></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-var">gfail</span><span>.</span></dt>
<dd><span class="first">Toplevel input, characters 0-6:
&gt; gfail.
&gt; ^^^^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> Tactic failure.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-tactic">trivial</span><span>; </span><span class="coqdoc-var">gfail</span><span>.</span></dt>
<dd><span class="first">Toplevel input, characters 0-15:
&gt; trivial; gfail.
&gt; ^^^^^^^^^^^^^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> Tactic failure.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-tactic">trivial</span><span>.</span></dt>
<dd><span class="first last">No more subgoals.</span></dd>
<dt><span class="coqdoc-var">gfail</span><span>.</span></dt>
<dd><span class="first">Toplevel input, characters 0-6:
&gt; gfail.
&gt; ^^^^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> No such goal.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-tactic">trivial</span><span>.</span></dt>
<dd><span class="first last">No more subgoals.</span></dd>
<dt><span class="coqdoc-var">all</span><span>: </span><span class="coqdoc-var">gfail</span><span>.</span></dt>
<dd><span class="first">Toplevel input, characters 0-11:
&gt; all: gfail.
&gt; ^^^^^^^^^^^
</span><span class="ansi-fg-white ansi-bg-red ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Error:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> Tactic failure.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
</dl>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="timeout">
<h3>Timeout<a class="headerlink" href="#timeout" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We can force a tactic to stop if it has not finished after a certain
amount of time:</p>
<dl class="tacn">
<dt id="coq:tacn.timeout">
<code class="descname"><span class="notation"><span>timeout</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.timeout" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">v</span></code> which must be a tactic value. The tactic value
<code class="docutils literal notranslate"><span class="pre">v</span></code> is applied normally, except that it is interrupted after <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole"><span class="pre">num</span></span></a></span></code> seconds
if it is still running. In this case the outcome is a failure.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">For the moment, timeout is based on elapsed time in seconds,
which is very machine-dependent: a script that works on a quick machine
may fail on a slow one. The converse is even possible if you combine a
timeout with some other tacticals. This tactical is hence proposed only
for convenience during debugging or other development phases, we strongly
advise you to not leave any timeout in final scripts. Note also that
this tactical isn’t available on the native Windows port of Coq.</p>
</div>
</dd></dl>

</div>
<div class="section" id="timing-a-tactic">
<h3>Timing a tactic<a class="headerlink" href="#timing-a-tactic" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>A tactic execution can be timed:</p>
<dl class="tacn">
<dt id="coq:tacn.time">
<code class="descname"><span class="notation"><span>time</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole">string</span></a> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>evaluates <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> and displays the running time of the tactic expression, whether it
fails or succeeds. In case of several successes, the time for each successive
run is displayed. Time is in seconds and is machine-dependent. The <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code>
argument is optional. When provided, it is used to identify this particular
occurrence of time.</p>
</dd></dl>

</div>
<div class="section" id="timing-a-tactic-that-evaluates-to-a-term">
<h3>Timing a tactic that evaluates to a term<a class="headerlink" href="#timing-a-tactic-that-evaluates-to-a-term" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Tactic expressions that produce terms can be timed with the experimental
tactic</p>
<dl class="tacn">
<dt id="coq:tacn.time-constr">
<code class="descname"><span class="notation"><span>time</span><span>_</span><span>constr</span> <span>expr</span></span></code><a class="headerlink" href="#coq:tacn.time-constr" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>which evaluates <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a> <span><span class="pre">()</span></span></span></code> and displays the time the tactic expression
evaluated, assuming successful evaluation. Time is in seconds and is
machine-dependent.</p>
<p>This tactic currently does not support nesting, and will report times
based on the innermost execution. This is due to the fact that it is
implemented using the tactics</p>
<dl class="tacn">
<dt id="coq:tacn.restart-timer">
<code class="descname"><span class="notation"><span>restart</span><span>_</span><span>timer</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole">string</span></a></span></code><a class="headerlink" href="#coq:tacn.restart-timer" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<p>and</p>
<dl class="tacn">
<dt id="coq:tacn.finish-timing">
<code class="descname"><span class="notation"><span>finish</span><span>_</span><span>timing</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole">string</span></a></span><span class="notation-sup">?</span></span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole">string</span></a></span></code><a class="headerlink" href="#coq:tacn.finish-timing" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<p>which (re)set and display an optionally named timer, respectively. The
parenthesized string argument to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">finish</span></span><span><span class="pre">_</span></span><span><span class="pre">timing</span></span></span></code> is also optional, and
determines the label associated with the timer for printing.</p>
<p>By copying the definition of <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">time</span></span><span><span class="pre">_</span></span><span><span class="pre">constr</span></span></span></code> from the standard library,
users can achive support for a fixed pattern of nesting by passing
different <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code> parameters to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">restart</span></span><span><span class="pre">_</span></span><span><span class="pre">timer</span></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">finish</span></span><span><span class="pre">_</span></span><span><span class="pre">timing</span></span></span></code>
at each level of nesting.</p>
<div class="admonition note">
<p class="first admonition-title">Example</p>
<div class="coqtop literal-block last docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">time_constr1</span><span> </span><span class="coqdoc-var">tac</span><span> :=</span><span>
&nbsp;&nbsp;</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">eval_early</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-keyword">goal</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">restart_timer</span><span> &quot;(depth 1)&quot; </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
&nbsp;&nbsp;</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">ret</span><span> := </span><span class="coqdoc-var">tac</span><span> () </span><span class="coqdoc-tactic">in</span><span>
&nbsp;&nbsp;</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">eval_early</span><span> := </span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-keyword">goal</span><span> </span><span class="coqdoc-keyword">with</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-var">finish_timing</span><span> ( &quot;Tactic evaluation&quot; ) &quot;(depth 1)&quot; </span><span class="coqdoc-keyword">end</span><span> </span><span class="coqdoc-tactic">in</span><span>
&nbsp;&nbsp;</span><span class="coqdoc-var">ret</span><span>.</span></dt>
<dd><span class="first last">time_constr1 is defined</span></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">v</span><span> := </span><span class="coqdoc-var">time_constr</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-keyword">ltac</span><span>:(</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">_</span><span> =&gt;</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">x</span><span> := </span><span class="coqdoc-var">time_constr1</span><span> </span><span class="coqdoc-keyword">ltac</span><span>:(</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-keyword">constr</span><span>:(10 * 10)) </span><span class="coqdoc-tactic">in</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">y</span><span> := </span><span class="coqdoc-var">time_constr1</span><span> </span><span class="coqdoc-keyword">ltac</span><span>:(</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">_</span><span> =&gt; </span><span class="coqdoc-tactic">eval</span><span> </span><span class="coqdoc-tactic">compute</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">x</span><span>) </span><span class="coqdoc-tactic">in</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-var">y</span><span>) </span><span class="coqdoc-tactic">in</span><span>
&nbsp;&nbsp;</span><span class="coqdoc-tactic">pose</span><span> </span><span class="coqdoc-var">v</span><span>.</span></dt>
<dd><span class="first">Tactic evaluation (depth 1) ran for 0. secs (0.u,0.s)
Tactic evaluation (depth 1) ran for 0. secs (0.u,0.s)
Tactic evaluation ran for 0.001 secs (0.u,0.s)
1 subgoal
  
  n := 100 : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
</dl>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="local-definitions">
<h3>Local definitions<a class="headerlink" href="#local-definitions" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Local definitions can be done as follows:</p>
<dl class="tacn">
<dt id="coq:tacn.let">
<code class="descname"><span class="notation"><span>let</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident<sub>1</sub></span></a> <span>:=</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>1</sub></span></a> <span class="repeat-wrapper"><span class="repeat"><span>with</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident<sub>i</sub></span></a> <span>:=</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>i</sub></span></a></span><span class="notation-sup">*</span></span> <span>in</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.let" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>each <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code>, then, <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated
by substituting <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code> to each occurrence of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">i</span></sub></span></a></span></code>, for
i = 1, ..., n. There are no dependencies between the <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> and the
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span><sub><span class="pre">i</span></sub></span></a></span></code>.</p>
<p>Local definitions can be made recursive by using <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">let</span></span> <span><span class="pre">rec</span></span></span></code> instead of <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">let</span></span></span></code>.
In this latter case, the definitions are evaluated lazily so that the rec
keyword can be used also in non-recursive cases so as to avoid the eager
evaluation of local definitions.</p>
</dd></dl>

</div>
<div class="section" id="application">
<h3>Application<a class="headerlink" href="#application" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>An application is an expression of the following form:</p>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><span class="hole">qualid</span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="#grammar-token-tacarg"><span class="hole">tacarg</span></a></span><span class="notation-sup">+</span></span></span></code></dt>
<dd><p>The reference <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code> must be bound to some defined tactic definition
expecting at least as many arguments as the provided <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">tacarg</span></span></span></code>. The
expressions <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">i</span></sub></span></a></span></code> are evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">i</span></sub></span></span></code>, for i = 1, ..., n.</p>
</dd></dl>

</div>
<div class="section" id="function-construction">
<h3>Function construction<a class="headerlink" href="#function-construction" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>A parameterized tactic can be built anonymously (without resorting to
local definitions) with:</p>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>fun</span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a></span><span class="notation-sup">+</span></span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>Indeed, local definitions of functions are a syntactic sugar for binding
a <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">fun</span></span></span></code> tactic to an identifier.</p>
</dd></dl>

</div>
<div class="section" id="pattern-matching-on-terms">
<h3>Pattern matching on terms<a class="headerlink" href="#pattern-matching-on-terms" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We can carry out pattern matching on terms with:</p>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>match</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>with</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">cpattern<sub>i</sub></span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>i</sub></span></a></span><span class="notation-sup">+</span><span class="notation-sub">|</span></span> <span>end</span></span></code></dt>
<dd><p>The expression <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated and should yield a term which is
matched against <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">cpattern</span><sub><span class="pre">1</span></sub></span></span></code>. The matching is non-linear: if a
metavariable occurs more than once, it should match the same expression
every time. It is first-order except on the variables of the form <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">&#64;</span></span><span><span class="pre">?id</span></span></span></code>
that occur in head position of an application. For these variables, the
matching is second-order and returns a functional term.</p>
<p>Alternatively, when a metavariable of the form <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">?id</span></span></span></code> occurs under binders,
say <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">x</span><sub><span class="pre">1</span></sub></span><span><span class="pre">,</span></span> <span><span class="pre">…,</span></span> <span><span class="pre">x</span><sub><span class="pre">n</span></sub></span></span></code> and the expression matches, the
metavariable is instantiated by a term which can then be used in any
context which also binds the variables <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">x</span><sub><span class="pre">1</span></sub></span><span><span class="pre">,</span></span> <span><span class="pre">…,</span></span> <span><span class="pre">x</span><sub><span class="pre">n</span></sub></span></span></code> with
same types. This provides with a primitive form of matching under
context which does not require manipulating a functional term.</p>
<p>If the matching with <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">cpattern</span><sub><span class="pre">1</span></sub></span></span></code> succeeds, then <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> is
evaluated into some value by substituting the pattern matching
instantiations to the metavariables. If <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> evaluates to a
tactic and the match expression is in position to be applied to a goal
(e.g. it is not bound to a variable by a <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">let</span></span> <span><span class="pre">in</span></span></span></code>), then this tactic is
applied. If the tactic succeeds, the list of resulting subgoals is the
result of the match expression. If <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> does not evaluate to a
tactic or if the match expression is not in position to be applied to a
goal, then the result of the evaluation of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> is the result
of the match expression.</p>
<p>If the matching with <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">cpattern</span><sub><span class="pre">1</span></sub></span></span></code> fails, or if it succeeds but the
evaluation of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> fails, or if the evaluation of
<code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> succeeds but returns a tactic in execution position whose
execution fails, then <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">cpattern</span><sub><span class="pre">2</span></sub></span></span></code> is used and so on. The pattern
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">_</span></span></span></code> matches any term and shadows all remaining patterns if any. If all
clauses fail (in particular, there is no pattern <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">_</span></span></span></code>) then a
no-matching-clause error is raised.</p>
<p>Failures in subsequent tactics do not cause backtracking to select new
branches or inside the right-hand side of the selected branch even if it
has backtracking points.</p>
<dl class="exn">
<dt id="coq:exn.no-matching-clauses-for-match">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>No</span> <span>matching</span> <span>clauses</span> <span>for</span> <span>match.</span></span></code><a class="headerlink" href="#coq:exn.no-matching-clauses-for-match" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>No pattern can be used and, in particular, there is no <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">_</span></span></span></code> pattern.</p>
</dd></dl>

<dl class="exn">
<dt id="coq:exn.argument-of-match-does-not-evaluate-to-a-term">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Argument</span> <span>of</span> <span>match</span> <span>does</span> <span>not</span> <span>evaluate</span> <span>to</span> <span>a</span> <span>term.</span></span></code><a class="headerlink" href="#coq:exn.argument-of-match-does-not-evaluate-to-a-term" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This happens when <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> does not denote a term.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>multimatch</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>with</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">cpattern<sub>i</sub></span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>i</sub></span></a></span><span class="notation-sup">+</span><span class="notation-sub">|</span></span> <span>end</span></span></code></dt>
<dd><p>Using multimatch instead of match will allow subsequent tactics to
backtrack into a right-hand side tactic which has backtracking points
left and trigger the selection of a new matching branch when all the
backtracking points of the right-hand side have been consumed.</p>
<p>The syntax <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">match</span></span> <span><span class="pre">…</span></span></span></code> is, in fact, a shorthand for <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">once</span></span> <span><span class="pre">multimatch</span></span> <span><span class="pre">…</span></span></span></code>.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>lazymatch</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>with</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">cpattern<sub>i</sub></span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr<sub>i</sub></span></a></span><span class="notation-sup">+</span><span class="notation-sub">|</span></span> <span>end</span></span></code></dt>
<dd><p>Using lazymatch instead of match will perform the same pattern
matching procedure but will commit to the first matching branch
rather than trying a new matching if the right-hand side fails. If
the right-hand side of the selected branch is a tactic with
backtracking points, then subsequent failures cause this tactic to
backtrack.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>context</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a> <span>[</span><span class="hole">cpattern</span><span>]</span></span></code></dt>
<dd><p>This special form of patterns matches any term with a subterm matching
cpattern. If there is a match, the optional <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> is assigned the &quot;matched
context&quot;, i.e. the initial term where the matched subterm is replaced by a
hole. The example below will show how to use such term contexts.</p>
<p>If the evaluation of the right-hand-side of a valid match fails, the next
matching subterm is tried. If no further subterm matches, the next clause
is tried. Matching subterms are considered top-bottom and from left to
right (with respect to the raw printing obtained by setting option
<a class="reference internal" href="../language/gallina-extensions.html#coq:flag.printing-all" title="Printing All"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">All</span></code></a>).</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Example</p>
<div class="coqtop literal-block last docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">f</span><span> </span><span class="coqdoc-var">x</span><span> :=</span><span>
&nbsp;&nbsp;</span><span class="coqdoc-keyword">match</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-keyword">with</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-keyword">context</span><span> </span><span class="coqdoc-var">f</span><span> [</span><span class="coqdoc-var">S</span><span> ?</span><span class="coqdoc-var">X</span><span>] =&gt;</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-tactic">idtac</span><span> </span><span class="coqdoc-var">X</span><span>;                    </span><span>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-tactic">assert</span><span> (</span><span class="coqdoc-var">p</span><span> := </span><span class="coqdoc-var">eq_refl</span><span> 1 : </span><span class="coqdoc-var">X</span><span>=1);    </span><span>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">x</span><span>:= </span><span class="coqdoc-keyword">context</span><span> </span><span class="coqdoc-var">f</span><span>[</span><span class="coqdoc-var">O</span><span>] </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-tactic">assert</span><span> (</span><span class="coqdoc-var">x</span><span>=</span><span class="coqdoc-var">O</span><span>) </span><span>
&nbsp;&nbsp;</span><span class="coqdoc-keyword">end</span><span>.</span></dt>
<dd><span class="first last">f is defined</span></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-var">f</span><span> (3+4).</span></dt>
<dd><span class="first">2
1
2 subgoals
  
  p : 1</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> =</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 1
  ============================
  1</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 4</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> =</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 0

subgoal 2 is:
 </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
</dl>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="pattern-matching-on-goals">
<span id="ltac-match-goal"></span><h3>Pattern matching on goals<a class="headerlink" href="#pattern-matching-on-goals" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We can perform pattern matching on goals using the following expression:</p>
<dl class="tacn">
<dt id="coq:tacn.match-goal">
<code class="descname"><span class="notation"><span>match</span> <span>goal</span> <span>with</span> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span>hyp</span></span><span class="notation-sup">+</span></span> <span>|-</span> <span class="hole">cpattern</span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">+</span><span class="notation-sub">|</span></span> <span>|</span> <span>_</span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>end</span></span></code><a class="headerlink" href="#coq:tacn.match-goal" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>If each hypothesis pattern <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">hyp</span></span></span></code><sub>1,i</sub>, with i = 1, ..., m<sub>1</sub> is
matched (non-linear first-order unification) by a hypothesis of the
goal and if <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">cpattern</span></span><span><span class="pre">_</span></span><span><span class="pre">1</span></span></span></code> is matched by the conclusion of the goal,
then <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span><sub><span class="pre">1</span></sub></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> by substituting the
pattern matching to the metavariables and the real hypothesis names
bound to the possible hypothesis names occurring in the hypothesis
patterns. If <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span><sub><span class="pre">1</span></sub></span></span></code> is a tactic value, then it is applied to the
goal. If this application fails, then another combination of hypotheses
is tried with the same proof context pattern. If there is no other
combination of hypotheses then the second proof context pattern is tried
and so on. If the next to last proof context pattern fails then
the last <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is evaluated to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">v</span></span></span></code> is
applied. Note also that matching against subterms (using the <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">context</span>
</span><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span class="pre">[</span></span> <span class="hole"><span class="pre">cpattern</span></span> <span><span class="pre">]</span></span></span></code>) is available and is also subject to yielding several
matchings.</p>
<p>Failures in subsequent tactics do not cause backtracking to select new
branches or combinations of hypotheses, or inside the right-hand side of
the selected branch even if it has backtracking points.</p>
<dl class="exn">
<dt id="coq:exn.no-matching-clauses-for-match-goal">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>No</span> <span>matching</span> <span>clauses</span> <span>for</span> <span>match</span> <span>goal.</span></span></code><a class="headerlink" href="#coq:exn.no-matching-clauses-for-match-goal" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>No clause succeeds, i.e. all matching patterns, if any, fail at the
application of the right-hand-side.</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">It is important to know that each hypothesis of the goal can be matched
by at most one hypothesis pattern. The order of matching is the
following: hypothesis patterns are examined from right to left
(i.e. hyp<sub>i,m</sub><sub>i`</sub> before hyp<sub>i,1</sub>). For each
hypothesis pattern, the goal hypotheses are matched in order (newest
first), but it possible to reverse this order (oldest first)
with the <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">match</span></span> <span><span class="pre">reverse</span></span> <span><span class="pre">goal</span></span> <span><span class="pre">with</span></span></span></code> variant.</p>
</div>
<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>multimatch</span> <span>goal</span> <span>with</span> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span>hyp</span></span><span class="notation-sup">+</span></span> <span>|-</span> <span class="hole">cpattern</span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">+</span><span class="notation-sub">|</span></span> <span>|</span> <span>_</span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>end</span></span></code></dt>
<dd><p>Using <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">multimatch</span></span></span></code> instead of <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">match</span></span></span></code> will allow subsequent tactics
to backtrack into a right-hand side tactic which has backtracking points
left and trigger the selection of a new matching branch or combination of
hypotheses when all the backtracking points of the right-hand side have
been consumed.</p>
<p>The syntax <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">match</span></span> <span><span class="pre">[reverse]</span></span> <span><span class="pre">goal</span></span> <span><span class="pre">…</span></span></span></code> is, in fact, a shorthand for
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">once</span></span> <span><span class="pre">multimatch</span></span> <span><span class="pre">[reverse]</span></span> <span><span class="pre">goal</span></span> <span><span class="pre">…</span></span></span></code>.</p>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>lazymatch</span> <span>goal</span> <span>with</span> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span>hyp</span></span><span class="notation-sup">+</span></span> <span>|-</span> <span class="hole">cpattern</span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span><span class="notation-sup">+</span><span class="notation-sub">|</span></span> <span>|</span> <span>_</span> <span>=&gt;</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>end</span></span></code></dt>
<dd><p>Using lazymatch instead of match will perform the same pattern matching
procedure but will commit to the first matching branch with the first
matching combination of hypotheses rather than trying a new matching if
the right-hand side fails. If the right-hand side of the selected branch
is a tactic with backtracking points, then subsequent failures cause
this tactic to backtrack.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="filling-a-term-context">
<h3>Filling a term context<a class="headerlink" href="#filling-a-term-context" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The following expression is not a tactic in the sense that it does not
produce subgoals but generates a term to be used in tactic expressions:</p>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>context</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a> <span>[</span><a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a><span>]</span></span></code></dt>
<dd><p><code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> must denote a context variable bound by a context pattern of a
match expression. This expression evaluates replaces the hole of the
value of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> by the value of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code>.</p>
<dl class="exn">
<dt id="coq:exn.not-a-context-variable">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Not</span> <span>a</span> <span>context</span> <span>variable.</span></span></code><a class="headerlink" href="#coq:exn.not-a-context-variable" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<dl class="exn">
<dt id="coq:exn.unbound-context-identifier-ident">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Unbound</span> <span>context</span> <span>identifier</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a><span>.</span></span></code><a class="headerlink" href="#coq:exn.unbound-context-identifier-ident" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="generating-fresh-hypothesis-names">
<h3>Generating fresh hypothesis names<a class="headerlink" href="#generating-fresh-hypothesis-names" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Tactics sometimes have to generate new names for hypothesis. Letting the
system decide a name with the intro tactic is not so good since it is
very awkward to retrieve the name the system gave. The following
expression returns an identifier:</p>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>fresh</span> <span class="repeat-wrapper"><span class="repeat"><span>component</span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>It evaluates to an identifier unbound in the goal. This fresh identifier
is obtained by concatenating the value of the <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="#grammar-token-component"><span class="hole"><span class="pre">component</span></span></a></span></code>s (each of them
is, either a <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><span class="hole"><span class="pre">qualid</span></span></a></span></code> which has to refer to a (unqualified) name, or
directly a name denoted by a <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code>).</p>
<p>If the resulting name is already used, it is padded with a number so that it
becomes fresh. If no component is given, the name is a fresh derivative of
the name <code class="docutils literal notranslate"><span class="pre">H</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="computing-in-a-constr">
<h3>Computing in a constr<a class="headerlink" href="#computing-in-a-constr" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Evaluation of a term can be performed with:</p>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>eval</span> <span class="hole">redexpr</span> <span>in</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><span class="hole">term</span></a></span></code></dt>
<dd><p>where <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">redexpr</span></span></span></code> is a reduction tactic among <a class="reference internal" href="tactics.html#coq:tacn.red" title="red"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">red</span></code></a>, <a class="reference internal" href="tactics.html#coq:tacn.hnf" title="hnf"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">hnf</span></code></a>,
<a class="reference internal" href="tactics.html#coq:tacn.compute" title="compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">compute</span></code></a>, <a class="reference internal" href="tactics.html#coq:tacn.simpl" title="simpl"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">simpl</span></code></a>, <a class="reference internal" href="tactics.html#coq:tacn.cbv" title="cbv"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">cbv</span></code></a>, <a class="reference internal" href="tactics.html#coq:tacn.lazy" title="lazy"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">lazy</span></code></a>, <a class="reference internal" href="tactics.html#coq:tacn.unfold" title="unfold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">unfold</span></code></a>,
<a class="reference internal" href="tactics.html#coq:tacn.fold" title="fold"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">fold</span></code></a>, <a class="reference internal" href="tactics.html#coq:tacn.pattern" title="pattern"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">pattern</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="recovering-the-type-of-a-term">
<h3>Recovering the type of a term<a class="headerlink" href="#recovering-the-type-of-a-term" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The following returns the type of term:</p>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>type</span> <span>of</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><span class="hole">term</span></a></span></code></dt>
<dd></dd></dl>

</div>
<div class="section" id="manipulating-untyped-terms">
<h3>Manipulating untyped terms<a class="headerlink" href="#manipulating-untyped-terms" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>uconstr</span> <span>:</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><span class="hole">term</span></a></span></code></dt>
<dd><p>The terms built in <cite>L</cite><sub>tac</sub> are well-typed by default. It may not be
appropriate for building large terms using a recursive <cite>L</cite><sub>tac</sub> function: the
term has to be entirely type checked at each step, resulting in potentially
very slow behavior. It is possible to build untyped terms using <cite>L</cite><sub>tac</sub> with
the <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">uconstr</span></span> <span><span class="pre">:</span></span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span></code> syntax.</p>
</dd></dl>

<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>type</span><span>_</span><span>term</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-term"><span class="hole">term</span></a></span></code></dt>
<dd><p>An untyped term, in <cite>L</cite><sub>tac</sub>, can contain references to hypotheses or to
<cite>L</cite><sub>tac</sub> variables containing typed or untyped terms. An untyped term can be
type checked using the function type_term whose argument is parsed as an
untyped term and returns a well-typed term which can be used in tactics.</p>
</dd></dl>

<p>Untyped terms built using <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">uconstr</span></span> <span><span class="pre">:</span></span></span></code> can also be used as arguments to the
<a class="reference internal" href="tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">refine</span></code></a> tactic. In that case the untyped term is type
checked against the conclusion of the goal, and the holes which are not solved
by the typing procedure are turned into new subgoals.</p>
</div>
<div class="section" id="counting-the-goals">
<h3>Counting the goals<a class="headerlink" href="#counting-the-goals" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>numgoals</span></span></code></dt>
<dd><p>The number of goals under focus can be recovered using the <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">numgoals</span></span></span></code>
function. Combined with the guard command below, it can be used to
branch over the number of goals produced by previous tactics.</p>
<div class="admonition note">
<p class="first admonition-title">Example</p>
<div class="coqtop literal-block last docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">pr_numgoals</span><span> := </span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">n</span><span> := </span><span class="coqdoc-var">numgoals</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-tactic">idtac</span><span> &quot;There are&quot; </span><span class="coqdoc-var">n</span><span> &quot;goals&quot;.</span></dt>
<dd class="coqtop-hidden"><span class="first last">pr_numgoals is defined</span></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span> /\ </span><span class="coqdoc-var">True</span><span> /\ </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first">pr_numgoals is defined
1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-tactic">split</span><span>;[|</span><span class="coqdoc-tactic">split</span><span>].</span></dt>
<dd class="coqtop-hidden"><span class="first">3 subgoals
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">

subgoal 2 is:
 </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
subgoal 3 is:
 </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
</dl>
<span></span><dl class="docutils">
<dt><span class="coqdoc-var">all</span><span>:</span><span class="coqdoc-var">pr_numgoals</span><span>.</span></dt>
<dd><span class="first last">There are 3 goals</span></dd>
</dl>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="testing-boolean-expressions">
<h3>Testing boolean expressions<a class="headerlink" href="#testing-boolean-expressions" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="tacn">
<dt id="coq:tacn.guard">
<code class="descname"><span class="notation"><span>guard</span> <a class="reference internal" href="#grammar-token-test"><span class="hole">test</span></a></span></code><a class="headerlink" href="#coq:tacn.guard" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The <a class="reference internal" href="#coq:tacn.guard" title="guard"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">guard</span></code></a> tactic tests a boolean expression, and fails if the expression
evaluates to false. If the expression evaluates to true, it succeeds
without affecting the proof.</p>
<p>The accepted tests are simple integer comparisons.</p>
<div class="admonition note">
<p class="first admonition-title">Example</p>
<div class="coqtop literal-block last docutils container">
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-var">True</span><span> /\ </span><span class="coqdoc-var">True</span><span> /\ </span><span class="coqdoc-var">True</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
<dt><span class="coqdoc-tactic">split</span><span>;[|</span><span class="coqdoc-tactic">split</span><span>].</span></dt>
<dd class="coqtop-hidden"><span class="first">3 subgoals
  
  ============================
  </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">

subgoal 2 is:
 </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
subgoal 3 is:
 </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">True</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"></span></dd>
</dl>
<span></span><dl class="docutils">
<dt><span class="coqdoc-var">all</span><span>:</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">n</span><span>:= </span><span class="coqdoc-var">numgoals</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">guard</span><span> </span><span class="coqdoc-var">n</span><span>&lt;4.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-var">all</span><span>:</span><span class="coqdoc-keyword">let</span><span> </span><span class="coqdoc-var">n</span><span>:= </span><span class="coqdoc-var">numgoals</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">guard</span><span> </span><span class="coqdoc-var">n</span><span>=2.</span></dt>
<dd><span class="first">The command has indeed failed with message:
Ltac call to &quot;</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">guard</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> (test)&quot; failed.
Condition not satisfied: 3=2</span></dd>
</dl>
</div>
</div>
<dl class="exn">
<dt id="coq:exn.condition-not-satisfied">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Condition</span> <span>not</span> <span>satisfied.</span></span></code><a class="headerlink" href="#coq:exn.condition-not-satisfied" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="proving-a-subgoal-as-a-separate-lemma">
<h3>Proving a subgoal as a separate lemma<a class="headerlink" href="#proving-a-subgoal-as-a-separate-lemma" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="tacn">
<dt id="coq:tacn.abstract">
<code class="descname"><span class="notation"><span>abstract</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacn.abstract" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>From the outside, <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">abstract</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code> is the same as <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">solve</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code>.
Internally it saves an auxiliary lemma called <code class="docutils literal notranslate"><span class="pre">ident_subproofn</span></code> where
<code class="docutils literal notranslate"><span class="pre">ident</span></code> is the name of the current goal and <code class="docutils literal notranslate"><span class="pre">n</span></code> is chosen so that this is
a fresh name. Such an auxiliary lemma is inlined in the final proof term.</p>
<p>This tactical is useful with tactics such as <a class="reference internal" href="tactics.html#coq:tacn.omega" title="omega"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">omega</span></code></a> or
<a class="reference internal" href="tactics.html#coq:tacn.discriminate" title="discriminate"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">discriminate</span></code></a> that generate huge proof terms. With that tool the user
can avoid the explosion at time of the Save command without having to cut
manually the proof in smaller lemmas.</p>
<p>It may be useful to generate lemmas minimal w.r.t. the assumptions they
depend on. This can be obtained thanks to the option below.</p>
<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>abstract</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>using</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a></span></code></dt>
<dd><p>Give explicitly the name of the auxiliary lemma.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">Use this feature at your own risk; explicitly named and reused subterms
don’t play well with asynchronous proofs.</p>
</div>
</dd></dl>

<dl class="tacv">
<dt id="coq:tacv.transparent-abstract">
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>transparent</span><span>_</span><span>abstract</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:tacv.transparent-abstract" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Save the subproof in a transparent lemma rather than an opaque one.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">Use this feature at your own risk; building computationally relevant
terms with tactics is fragile.</p>
</div>
</dd></dl>

<dl class="tacv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>transparent</span><span>_</span><span>abstract</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a> <span>using</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a></span></code></dt>
<dd><p>Give explicitly the name of the auxiliary transparent lemma.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">Use this feature at your own risk; building computationally relevant terms
with tactics is fragile, and explicitly named and reused subterms
don’t play well with asynchronous proofs.</p>
</div>
</dd></dl>

<dl class="exn">
<dt id="coq:exn.proof-is-not-complete-abstract">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Proof</span> <span>is</span> <span>not</span> <span>complete.</span></span></code><a class="headerlink" href="#coq:exn.proof-is-not-complete-abstract" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="tactic-toplevel-definitions">
<h2>Tactic toplevel definitions<a class="headerlink" href="#tactic-toplevel-definitions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="defining-ltac-functions">
<h3>Defining <cite>L</cite><sub>tac</sub> functions<a class="headerlink" href="#defining-ltac-functions" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Basically, <cite>L</cite><sub>tac</sub> toplevel definitions are made as follows:</p>
<dl class="cmd">
<dt id="coq:cmd.ltac">
<em class="property"><span class="sigannot">Command</span></em> <code class="descname"><span class="notation"><span>Ltac</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a></span><span class="notation-sup">*</span></span> <span>:=</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:cmd.ltac" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This defines a new <cite>L</cite><sub>tac</sub> function that can be used in any tactic
script or new <cite>L</cite><sub>tac</sub> toplevel definition.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p>The preceding definition can equivalently be written:</p>
<p class="last"><code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Ltac</span></span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span class="pre">:=</span></span> <span><span class="pre">fun</span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span> <span><span class="pre">=&gt;</span></span> <a class="reference internal" href="#grammar-token-expr"><span class="hole"><span class="pre">expr</span></span></a></span></code></p>
</div>
<p>Recursive and mutual recursive function definitions are also possible
with the syntax:</p>
<dl class="cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>Ltac</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a></span><span class="notation-sup">*</span></span> <span class="repeat-wrapper"><span class="repeat"><span>with</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a></span><span class="notation-sup">*</span></span></span><span class="notation-sup">*</span></span> <span>:=</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>It is also possible to <em>redefine</em> an existing user-defined tactic using the syntax:</p>
</dd></dl>

<dl class="cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>Ltac</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><span class="hole">qualid</span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole">ident</span></a></span><span class="notation-sup">*</span></span> <span>::=</span> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code></dt>
<dd><p>A previous definition of qualid must exist in the environment. The new
definition will always be used instead of the old one and it goes across
module boundaries.</p>
</dd></dl>

<p>If preceded by the keyword Local the tactic definition will not be
exported outside the current module.</p>
</dd></dl>

</div>
<div class="section" id="printing-ltac-tactics">
<h3>Printing <cite>L</cite><sub>tac</sub> tactics<a class="headerlink" href="#printing-ltac-tactics" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="cmd">
<dt id="coq:cmd.print-ltac">
<em class="property"><span class="sigannot">Command</span></em> <code class="descname"><span class="notation"><span>Print</span> <span>Ltac</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-qualid"><span class="hole">qualid</span></a></span></code><a class="headerlink" href="#coq:cmd.print-ltac" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Defined <cite>L</cite><sub>tac</sub> functions can be displayed using this command.</p>
</dd></dl>

<dl class="cmd">
<dt id="coq:cmd.print-ltac-signatures">
<em class="property"><span class="sigannot">Command</span></em> <code class="descname"><span class="notation"><span>Print</span> <span>Ltac</span> <span>Signatures</span></span></code><a class="headerlink" href="#coq:cmd.print-ltac-signatures" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This command displays a list of all user-defined tactics, with their arguments.</p>
</dd></dl>

</div>
</div>
<div class="section" id="debugging-ltac-tactics">
<h2>Debugging <cite>L</cite><sub>tac</sub> tactics<a class="headerlink" href="#debugging-ltac-tactics" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="info-trace">
<h3>Info trace<a class="headerlink" href="#info-trace" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="cmd">
<dt id="coq:cmd.info">
<em class="property"><span class="sigannot">Command</span></em> <code class="descname"><span class="notation"><span>Info</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a> <a class="reference internal" href="#grammar-token-expr"><span class="hole">expr</span></a></span></code><a class="headerlink" href="#coq:cmd.info" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This command can be used to print the trace of the path eventually taken by an
<cite>L</cite><sub>tac</sub> script. That is, the list of executed tactics, discarding
all the branches which have failed. To that end the <a class="reference internal" href="#coq:cmd.info" title="Info"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Info</span></code></a> command can be
used with the following syntax.</p>
<p>The number <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole"><span class="pre">num</span></span></a></span></code> is the unfolding level of tactics in the trace. At level
0, the trace contains a sequence of tactics in the actual script, at level 1,
the trace will be the concatenation of the traces of these tactics, etc…</p>
<div class="admonition note">
<p class="first admonition-title">Example</p>
<div class="coqtop literal-block last docutils container">
<span class="coqtop-reset"></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">t</span><span> </span><span class="coqdoc-var">x</span><span> := </span><span class="coqdoc-tactic">exists</span><span> </span><span class="coqdoc-var">x</span><span>; </span><span class="coqdoc-tactic">reflexivity</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first last">t is defined</span></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-tactic">exists</span><span> </span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">n</span><span>=0.</span></dt>
<dd class="coqtop-hidden"><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">exists</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> n : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> =</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> 0</span></dd>
</dl>
<span></span><dl class="docutils">
<dt><span class="coqdoc-var">Info</span><span> 0 </span><span class="coqdoc-var">t</span><span> 1||</span><span class="coqdoc-var">t</span><span> 0.</span></dt>
<dd><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative first">t</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> &lt;constr:(0)&gt;
No more subgoals.</span></dd>
</dl>
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Undo</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">exists</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> n : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> =</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> 0</span></dd>
</dl>
<span></span><dl class="docutils">
<dt><span class="coqdoc-var">Info</span><span> 1 </span><span class="coqdoc-var">t</span><span> 1||</span><span class="coqdoc-var">t</span><span> 0.</span></dt>
<dd><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative first">exists</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">  with 0;</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">reflexivity</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last"> 
No more subgoals.</span></dd>
</dl>
</div>
</div>
<p>The trace produced by <a class="reference internal" href="#coq:cmd.info" title="Info"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Info</span></code></a> tries its best to be a reparsable
<cite>L</cite><sub>tac</sub> script, but this goal is not achievable in all generality.
So some of the output traces will contain oddities.</p>
<p>As an additional help for debugging, the trace produced by <a class="reference internal" href="#coq:cmd.info" title="Info"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Info</span></code></a> contains
(in comments) the messages produced by the <a class="reference internal" href="#coq:tacn.idtac" title="idtac"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">idtac</span></code></a> tactical at the right
position in the script. In particular, the calls to idtac in branches which failed are
not printed.</p>
<dl class="opt">
<dt id="coq:opt.info-level">
<em class="property"><span class="sigannot">Option</span></em> <code class="descname"><span class="notation"><span>Info</span> <span>Level</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole">num</span></a></span></code><a class="headerlink" href="#coq:opt.info-level" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This option is an alternative to the <a class="reference internal" href="#coq:cmd.info" title="Info"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Info</span></code></a> command.</p>
<p>This will automatically print the same trace as <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Info</span></span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-num"><span class="hole"><span class="pre">num</span></span></a></span></code> at each
tactic call. The unfolding level can be overridden by a call to the
<a class="reference internal" href="#coq:cmd.info" title="Info"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Info</span></code></a> command.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="interactive-debugger">
<h3>Interactive debugger<a class="headerlink" href="#interactive-debugger" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="flag">
<dt id="coq:flag.ltac-debug">
<em class="property"><span class="sigannot">Flag</span></em> <code class="descname"><span class="notation"><span>Ltac</span> <span>Debug</span></span></code><a class="headerlink" href="#coq:flag.ltac-debug" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This option governs the step-by-step debugger that comes with the <cite>L</cite><sub>tac</sub> interpreter</p>
</dd></dl>

<p>When the debugger is activated, it stops at every step of the evaluation of
the current <cite>L</cite><sub>tac</sub> expression and prints information on what it is doing.
The debugger stops, prompting for a command which can be one of the
following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>simple newline:</td>
<td>go to the next step</td>
</tr>
<tr class="row-even"><td>h:</td>
<td>get help</td>
</tr>
<tr class="row-odd"><td>x:</td>
<td>exit current evaluation</td>
</tr>
<tr class="row-even"><td>s:</td>
<td>continue current evaluation without stopping</td>
</tr>
<tr class="row-odd"><td>r n:</td>
<td>advance n steps further</td>
</tr>
<tr class="row-even"><td>r string:</td>
<td>advance up to the next call to “idtac string”</td>
</tr>
</tbody>
</table>
<dl class="exn">
<dt id="coq:exn.debug-mode-not-available-in-the-ide">
<em class="property"><span class="sigannot">Error</span></em> <code class="descname"><span class="notation"><span>Debug</span> <span>mode</span> <span>not</span> <span>available</span> <span>in</span> <span>the</span> <span>IDE</span></span></code><a class="headerlink" href="#coq:exn.debug-mode-not-available-in-the-ide" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<p>A non-interactive mode for the debugger is available via the option:</p>
<dl class="flag">
<dt id="coq:flag.ltac-batch-debug">
<em class="property"><span class="sigannot">Flag</span></em> <code class="descname"><span class="notation"><span>Ltac</span> <span>Batch</span> <span>Debug</span></span></code><a class="headerlink" href="#coq:flag.ltac-batch-debug" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This option has the effect of presenting a newline at every prompt, when
the debugger is on. The debug log thus created, which does not require
user input to generate when this option is set, can then be run through
external tools such as diff.</p>
</dd></dl>

</div>
<div class="section" id="profiling-ltac-tactics">
<h3>Profiling <cite>L</cite><sub>tac</sub> tactics<a class="headerlink" href="#profiling-ltac-tactics" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>It is possible to measure the time spent in invocations of primitive
tactics as well as tactics defined in <cite>L</cite><sub>tac</sub> and their inner
invocations. The primary use is the development of complex tactics,
which can sometimes be so slow as to impede interactive usage. The
reasons for the performence degradation can be intricate, like a slowly
performing <cite>L</cite><sub>tac</sub> match or a sub-tactic whose performance only
degrades in certain situations. The profiler generates a call tree and
indicates the time spent in a tactic depending on its calling context. Thus
it allows to locate the part of a tactic definition that contains the
performance issue.</p>
<dl class="flag">
<dt id="coq:flag.ltac-profiling">
<em class="property"><span class="sigannot">Flag</span></em> <code class="descname"><span class="notation"><span>Ltac</span> <span>Profiling</span></span></code><a class="headerlink" href="#coq:flag.ltac-profiling" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This option enables and disables the profiler.</p>
</dd></dl>

<dl class="cmd">
<dt id="coq:cmd.show-ltac-profile">
<em class="property"><span class="sigannot">Command</span></em> <code class="descname"><span class="notation"><span>Show</span> <span>Ltac</span> <span>Profile</span></span></code><a class="headerlink" href="#coq:cmd.show-ltac-profile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Prints the profile</p>
<dl class="cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="descname"><span class="notation"><span>Show</span> <span>Ltac</span> <span>Profile</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole">string</span></a></span></code></dt>
<dd><p>Prints a profile for all tactics that start with <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole"><span class="pre">string</span></span></a></span></code>. Append a period
(.) to the string if you only want exactly that name.</p>
</dd></dl>

</dd></dl>

<dl class="cmd">
<dt id="coq:cmd.reset-ltac-profile">
<em class="property"><span class="sigannot">Command</span></em> <code class="descname"><span class="notation"><span>Reset</span> <span>Ltac</span> <span>Profile</span></span></code><a class="headerlink" href="#coq:cmd.reset-ltac-profile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Resets the profile, that is, deletes all accumulated information.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">Backtracking across a <a class="reference internal" href="#coq:cmd.reset-ltac-profile" title="Reset Ltac Profile"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Reset</span> <span class="pre">Ltac</span> <span class="pre">Profile</span></code></a> will not restore the information.</p>
</div>
</dd></dl>

<div class="coqtop literal-block docutils container">
<span class="coqtop-reset"></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Require</span><span> </span><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">Coq.omega.Omega</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first last">[Loading ML file z_syntax_plugin.cmxs ... done]
[Loading ML file quote_plugin.cmxs ... done]
[Loading ML file newring_plugin.cmxs ... done]
[Loading ML file omega_plugin.cmxs ... done]</span></dd>
<dt><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">mytauto</span><span> := </span><span class="coqdoc-tactic">tauto</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first last">mytauto is defined</span></dd>
<dt><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">tac</span><span> := </span><span class="coqdoc-tactic">intros</span><span>; </span><span class="coqdoc-tactic">repeat</span><span> </span><span class="coqdoc-tactic">split</span><span>; </span><span class="coqdoc-tactic">omega</span><span> || </span><span class="coqdoc-var">mytauto</span><span>.</span></dt>
<dd class="coqtop-hidden"><span class="first last">tac is defined</span></dd>
<dt><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> := (</span><span class="coqdoc-var">x</span><span> + (</span><span class="coqdoc-var">y</span><span> - </span><span class="coqdoc-var">x</span><span>)) (</span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>).</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Goal</span><span> </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span> </span><span class="coqdoc-var">A</span><span> </span><span class="coqdoc-var">B</span><span> </span><span class="coqdoc-var">C</span><span> </span><span class="coqdoc-var">D</span><span> </span><span class="coqdoc-var">E</span><span> </span><span class="coqdoc-var">F</span><span> </span><span class="coqdoc-var">G</span><span> </span><span class="coqdoc-var">H</span><span> </span><span class="coqdoc-var">I</span><span> </span><span class="coqdoc-var">J</span><span> </span><span class="coqdoc-var">K</span><span> </span><span class="coqdoc-var">L</span><span> </span><span class="coqdoc-var">M</span><span> </span><span class="coqdoc-var">N</span><span> </span><span class="coqdoc-var">O</span><span> </span><span class="coqdoc-var">P</span><span> </span><span class="coqdoc-var">Q</span><span> </span><span class="coqdoc-var">R</span><span> </span><span class="coqdoc-var">S</span><span> </span><span class="coqdoc-var">T</span><span> </span><span class="coqdoc-var">U</span><span> </span><span class="coqdoc-var">V</span><span> </span><span class="coqdoc-var">W</span><span> </span><span class="coqdoc-var">X</span><span> </span><span class="coqdoc-var">Y</span><span> </span><span class="coqdoc-var">Z</span><span>,</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span>) = </span><span class="coqdoc-var">max</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) </span><span class="coqdoc-var">z</span><span> /\ </span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">x</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">z</span><span>) = </span><span class="coqdoc-var">max</span><span> (</span><span class="coqdoc-var">max</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) </span><span class="coqdoc-var">z</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;/\</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;(</span><span class="coqdoc-var">A</span><span> /\ </span><span class="coqdoc-var">B</span><span> /\ </span><span class="coqdoc-var">C</span><span> /\ </span><span class="coqdoc-var">D</span><span> /\ </span><span class="coqdoc-var">E</span><span> /\ </span><span class="coqdoc-var">F</span><span> /\ </span><span class="coqdoc-var">G</span><span> /\ </span><span class="coqdoc-var">H</span><span> /\ </span><span class="coqdoc-var">I</span><span> /\ </span><span class="coqdoc-var">J</span><span> /\ </span><span class="coqdoc-var">K</span><span> /\ </span><span class="coqdoc-var">L</span><span> /\ </span><span class="coqdoc-var">M</span><span> /\</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-var">N</span><span> /\ </span><span class="coqdoc-var">O</span><span> /\ </span><span class="coqdoc-var">P</span><span> /\ </span><span class="coqdoc-var">Q</span><span> /\ </span><span class="coqdoc-var">R</span><span> /\ </span><span class="coqdoc-var">S</span><span> /\ </span><span class="coqdoc-var">T</span><span> /\ </span><span class="coqdoc-var">U</span><span> /\ </span><span class="coqdoc-var">V</span><span> /\ </span><span class="coqdoc-var">W</span><span> /\ </span><span class="coqdoc-var">X</span><span> /\ </span><span class="coqdoc-var">Y</span><span> /\ </span><span class="coqdoc-var">Z</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-var">Z</span><span> /\ </span><span class="coqdoc-var">Y</span><span> /\ </span><span class="coqdoc-var">X</span><span> /\ </span><span class="coqdoc-var">W</span><span> /\ </span><span class="coqdoc-var">V</span><span> /\ </span><span class="coqdoc-var">U</span><span> /\ </span><span class="coqdoc-var">T</span><span> /\ </span><span class="coqdoc-var">S</span><span> /\ </span><span class="coqdoc-var">R</span><span> /\ </span><span class="coqdoc-var">Q</span><span> /\ </span><span class="coqdoc-var">P</span><span> /\ </span><span class="coqdoc-var">O</span><span> /\ </span><span class="coqdoc-var">N</span><span> /\</span><span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="coqdoc-var">M</span><span> /\ </span><span class="coqdoc-var">L</span><span> /\ </span><span class="coqdoc-var">K</span><span> /\ </span><span class="coqdoc-var">J</span><span> /\ </span><span class="coqdoc-var">I</span><span> /\ </span><span class="coqdoc-var">H</span><span> /\ </span><span class="coqdoc-var">G</span><span> /\ </span><span class="coqdoc-var">F</span><span> /\ </span><span class="coqdoc-var">E</span><span> /\ </span><span class="coqdoc-var">D</span><span> /\ </span><span class="coqdoc-var">C</span><span> /\ </span><span class="coqdoc-var">B</span><span> /\ </span><span class="coqdoc-var">A</span><span>).</span></dt>
<dd class="coqtop-hidden"><span class="first">1 subgoal
  
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">forall</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (x y z : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)
    (A B C D E F G H I J K L M N O P Q R S T U V W X Y Z : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">),
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">z</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> =</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">z</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)))</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">z</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> =</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">z</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> +</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)))</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  (</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">A</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">B</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">C</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">D</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">E</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">F</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">G</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">H</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">I</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">J</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">K</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">L</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">M</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">N</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">O</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">P</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Q</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">R</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">S</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">T</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">U</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">V</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">W</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">X</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Z</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Z</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">X</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">W</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">V</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">U</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">T</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">S</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">R</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Q</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">P</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
   </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">O</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">N</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">M</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">L</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">K</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">J</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">I</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">H</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">G</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">F</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">E</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">D</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">C</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">B</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">A</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative last">)</span></dd>
<dt><span class="coqdoc-keyword">Proof</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
</dl>
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Set</span><span> </span><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">Profiling</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-var">tac</span><span>.</span></dt>
<dd><span class="first last">No more subgoals.</span></dd>
<dt><span class="coqdoc-keyword">Show</span><span> </span><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">Profile</span><span>.</span></dt>
<dd><span class="first last">total time:      2.414s

 tactic                                   local  total   calls       max 
────────────────────────────────────────┴──────┴──────┴───────┴─────────┘
─tac -----------------------------------   0.1% 100.0%       1    2.414s
─&lt;Coq.Init.Tauto.with_uniform_flags&gt; ---   0.0%  73.7%      26    0.084s
─&lt;Coq.Init.Tauto.tauto_gen&gt; ------------   0.0%  73.6%      26    0.084s
─&lt;Coq.Init.Tauto.tauto_intuitionistic&gt; -   0.0%  73.6%      26    0.084s
─t_tauto_intuit ------------------------   0.1%  73.5%      26    0.084s
─&lt;Coq.Init.Tauto.simplif&gt; --------------  49.9%  70.2%      26    0.081s
─omega ---------------------------------  25.8%  25.8%      28    0.289s
─&lt;Coq.Init.Tauto.is_conj&gt; --------------  12.5%  12.5%   28756    0.000s
─elim id -------------------------------   3.8%   3.8%     650    0.001s
─&lt;Coq.Init.Tauto.axioms&gt; ---------------   2.6%   3.3%       0    0.023s

 tactic                                   local  total   calls       max 
────────────────────────────────────────┴──────┴──────┴───────┴─────────┘
─tac -----------------------------------   0.1% 100.0%       1    2.414s
 ├─&lt;Coq.Init.Tauto.with_uniform_flags&gt; -   0.0%  73.7%      26    0.084s
 │└&lt;Coq.Init.Tauto.tauto_gen&gt; ----------   0.0%  73.6%      26    0.084s
 │└&lt;Coq.Init.Tauto.tauto_intuitionistic&gt;   0.0%  73.6%      26    0.084s
 │└t_tauto_intuit ----------------------   0.1%  73.5%      26    0.084s
 │ ├─&lt;Coq.Init.Tauto.simplif&gt; ----------  49.9%  70.2%      26    0.081s
 │ │ ├─&lt;Coq.Init.Tauto.is_conj&gt; --------  12.5%  12.5%   28756    0.000s
 │ │ └─elim id -------------------------   3.8%   3.8%     650    0.001s
 │ └─&lt;Coq.Init.Tauto.axioms&gt; -----------   2.6%   3.3%       0    0.023s
 └─omega -------------------------------  25.8%  25.8%      28    0.289s</span></dd>
<dt><span class="coqdoc-keyword">Show</span><span> </span><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">Profile</span><span> &quot;omega&quot;.</span></dt>
<dd><span class="first last">total time:      2.414s

 tactic                                   local  total   calls       max 
────────────────────────────────────────┴──────┴──────┴───────┴─────────┘
─omega ---------------------------------  25.8%  25.8%      28    0.289s

 tactic                                   local  total   calls       max </span></dd>
</dl>
<span></span><dl class="docutils">
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Unset</span><span> </span><span class="coqdoc-keyword">Ltac</span><span> </span><span class="coqdoc-var">Profiling</span><span>.</span></dt>
<dd class="coqtop-hidden"></dd>
</dl>
</div>
<dl class="tacn">
<dt id="coq:tacn.start-ltac-profiling">
<code class="descname"><span class="notation"><span>start</span> <span>ltac</span> <span>profiling</span></span></code><a class="headerlink" href="#coq:tacn.start-ltac-profiling" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This tactic behaves like <a class="reference internal" href="#coq:tacn.idtac" title="idtac"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">idtac</span></code></a> but enables the profiler.</p>
</dd></dl>

<dl class="tacn">
<dt id="coq:tacn.stop-ltac-profiling">
<code class="descname"><span class="notation"><span>stop</span> <span>ltac</span> <span>profiling</span></span></code><a class="headerlink" href="#coq:tacn.stop-ltac-profiling" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Similarly to <a class="reference internal" href="#coq:tacn.start-ltac-profiling" title="start ltac profiling"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">start</span> <span class="pre">ltac</span> <span class="pre">profiling</span></code></a>, this tactic behaves like
<a class="reference internal" href="#coq:tacn.idtac" title="idtac"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">idtac</span></code></a>. Together, they allow you to exclude parts of a proof script
from profiling.</p>
</dd></dl>

<dl class="tacn">
<dt id="coq:tacn.reset-ltac-profile">
<code class="descname"><span class="notation"><span>reset</span> <span>ltac</span> <span>profile</span></span></code><a class="headerlink" href="#coq:tacn.reset-ltac-profile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This tactic behaves like the corresponding vernacular command
and allow displaying and resetting the profile from tactic scripts for
benchmarking purposes.</p>
</dd></dl>

<dl class="tacn">
<dt id="coq:tacn.show-ltac-profile">
<code class="descname"><span class="notation"><span>show</span> <span>ltac</span> <span>profile</span></span></code><a class="headerlink" href="#coq:tacn.show-ltac-profile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>This tactic behaves like the corresponding vernacular command
and allow displaying and resetting the profile from tactic scripts for
benchmarking purposes.</p>
</dd></dl>

<dl class="tacn">
<dt>
<code class="descname"><span class="notation"><span>show</span> <span>ltac</span> <span>profile</span> <a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-string"><span class="hole">string</span></a></span></code></dt>
<dd><p>This tactic behaves like the corresponding vernacular command
and allow displaying and resetting the profile from tactic scripts for
benchmarking purposes.</p>
</dd></dl>

<p>You can also pass the <code class="docutils literal notranslate"><span class="pre">-profile-ltac</span></code> command line option to <code class="docutils literal notranslate"><span class="pre">coqc</span></code>, which
turns the <a class="reference internal" href="#coq:flag.ltac-profiling" title="Ltac Profiling"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Ltac</span> <span class="pre">Profiling</span></code></a> option on at the beginning of each document,
and performs a <a class="reference internal" href="#coq:cmd.show-ltac-profile" title="Show Ltac Profile"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Ltac</span> <span class="pre">Profile</span></code></a> at the end.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">Note that the profiler currently does not handle backtracking into
multi-success tactics, and issues a warning to this effect in many cases
when such backtracking occurs.</p>
</div>
</div>
<div class="section" id="run-time-optimization-tactic">
<h3>Run-time optimization tactic<a class="headerlink" href="#run-time-optimization-tactic" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="tacn">
<dt id="coq:tacn.optimize-heap">
<code class="descname"><span class="notation"><span>optimize</span><span>_</span><span>heap</span></span></code><a class="headerlink" href="#coq:tacn.optimize-heap" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<p>This tactic behaves like <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">idtac</span></span></span></code>, except that running it compacts the
heap in the OCaml run-time system. It is analogous to the Vernacular
command <a class="reference internal" href="proof-handling.html#coq:cmd.optimize-heap" title="Optimize Heap"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Optimize</span> <span class="pre">Heap</span></code></a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="detailed-tactic-examples.html" class="btn btn-neutral float-right" title="Detailed examples of tactics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tactics.html" class="btn btn-neutral" title="Tactics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2018, Inria.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'8.8.2',
            LANGUAGE:'ja',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/notations.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>