

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Coq commands &mdash; Coq 8.8.2 ドキュメント</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
  <link rel="stylesheet" href="../_static/ansi.css" type="text/css" />
  <link rel="stylesheet" href="../_static/coqdoc.css" type="text/css" />
  <link rel="stylesheet" href="../_static/notations.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pre-text.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="Utilities" href="utilities.html" />
    <link rel="prev" title="Proof schemes" href="../user-extensions/proof-schemes.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Coq
          

          
          </a>

          
            
            
              <div class="version">
                8.8.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">索引</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-cmdindex.html">Command index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-tacindex.html">Tactic index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-optindex.html">Flags, options and tables index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-exnindex.html">Errors and warnings index</a></li>
</ul>
<p class="caption"><span class="caption-text">はじめに</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">はじめに</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
</ul>
<p class="caption"><span class="caption-text">言語</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/gallina-specification-language.html">The Gallina specification language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/gallina-extensions.html">Extensions of <span class="smallcaps">Gallina</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/coq-library.html">The <span class="smallcaps">Coq</span> library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/cic.html">Calculus of Inductive Constructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/module-system.html">The Module System</a></li>
</ul>
<p class="caption"><span class="caption-text">証明エンジン</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/vernacular-commands.html">Vernacular commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/proof-handling.html">Proof handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/tactics.html">Tactics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/ltac.html">The tactic language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/detailed-tactic-examples.html">Detailed examples of tactics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html">The <span class="smallcaps">SSReflect</span> proof language</a></li>
</ul>
<p class="caption"><span class="caption-text">ユーザ拡張</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/syntax-extensions.html">Syntax extensions and interpretation scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/proof-schemes.html">Proof schemes</a></li>
</ul>
<p class="caption"><span class="caption-text">実用ツール</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">The <span class="smallcaps">Coq</span> commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#interactive-use-coqtop">Interactive use (coqtop)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#batch-compilation-coqc">Batch compilation (coqc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customization-at-launch-time">Customization at launch time</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#by-resource-file">By resource file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#by-environment-variables">By environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#by-command-line-options">By command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#compiled-libraries-checker-coqchk">Compiled libraries checker (coqchk)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="coqide.html"><span class="smallcaps">Coq</span> Integrated Development Environment</a></li>
</ul>
<p class="caption"><span class="caption-text">付録</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../addendum/extended-pattern-matching.html">Extended pattern matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/implicit-coercions.html">Implicit Coercions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/canonical-structures.html">Canonical Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/type-classes.html">Type Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/omega.html">Omega: a solver for quantifier-free problems in Presburger Arithmetic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/micromega.html">Micromega: tactics for solving arithmetic goals over ordered rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/extraction.html">Extraction of programs in <span class="smallcaps">OCaml</span> and Haskell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/program.html">Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/ring.html">The ring and field tactic families</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/nsatz.html">Nsatz: tactics for proving equalities in integral domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/generalized-rewriting.html">Generalized rewriting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/parallel-proof-processing.html">Asynchronous and Parallel Proof Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/miscellaneous-extensions.html">Miscellaneous extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/universe-polymorphism.html">Polymorphic Universes</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../zebibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>The <span class="smallcaps">Coq</span> commands</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/coq/coq/blob/master/doc/sphinx/practical-tools/coq-commands.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="math-preamble math notranslate">
\[\begin{split}\newcommand{\alors}{\textsf{then}}
\newcommand{\alter}{\textsf{alter}}
\newcommand{\as}{\kw{as}}
\newcommand{\Assum}[3]{\kw{Assum}(#1)(#2:#3)}
\newcommand{\bool}{\textsf{bool}}
\newcommand{\case}{\kw{case}}
\newcommand{\conc}{\textsf{conc}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\conshl}{\textsf{cons\_hl}}
\newcommand{\Def}[4]{\kw{Def}(#1)(#2:=#3:#4)}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\EqSt}{\textsf{EqSt}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\false}{\textsf{false}}
\newcommand{\filter}{\textsf{filter}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\from}{\textsf{from}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\haslength}{\textsf{has\_length}}
\newcommand{\hd}{\textsf{hd}}
\newcommand{\ident}{\textsf{ident}}
\newcommand{\In}{\kw{in}}
\newcommand{\Ind}[4]{\kw{Ind}[#2](#3:=#4)}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[5]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)}
\newcommand{\Indpstr}[6]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)/{#6}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\lb}{\lambda}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\Prod}{\textsf{prod}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\si}{\textsf{if}}
\newcommand{\sinon}{\textsf{else}}
\newcommand{\Sort}{\cal S}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\true}{\textsf{true}}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\unfold}{\textsf{unfold}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\cal W\!F}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\cal W\!F}(#2)}
\newcommand{\WFTWOLINES}[2]{{\cal W\!F}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\newcommand{\zeros}{\textsf{zeros}}
\end{split}\]</div>
<div class="section" id="the-coq-commands">
<span id="thecoqcommands"></span><h1>The <span class="smallcaps">Coq</span> commands<a class="headerlink" href="#the-coq-commands" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>There are three <span class="smallcaps">Coq</span> commands:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">coqtop</span></code>: the <span class="smallcaps">Coq</span> toplevel (interactive mode);</li>
<li><code class="docutils literal notranslate"><span class="pre">coqc</span></code>: the <span class="smallcaps">Coq</span> compiler (batch compilation);</li>
<li><code class="docutils literal notranslate"><span class="pre">coqchk</span></code>: the <span class="smallcaps">Coq</span> checker (validation of compiled libraries).</li>
</ul>
<p>The options are (basically) the same for the first two commands, and
roughly described below. You can also look at the <code class="docutils literal notranslate"><span class="pre">man</span></code> pages of
<code class="docutils literal notranslate"><span class="pre">coqtop</span></code> and <code class="docutils literal notranslate"><span class="pre">coqc</span></code> for more details.</p>
<div class="section" id="interactive-use-coqtop">
<span id="interactive-use"></span><h2>Interactive use (coqtop)<a class="headerlink" href="#interactive-use-coqtop" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>In the interactive mode, also known as the <span class="smallcaps">Coq</span> toplevel, the user can
develop his theories and proofs step by step. The <span class="smallcaps">Coq</span> toplevel is run
by the command <code class="docutils literal notranslate"><span class="pre">coqtop</span></code>.</p>
<p>There are two different binary images of <span class="smallcaps">Coq</span>: the byte-code one and the
native-code one (if OCaml provides a native-code compiler for
your platform, which is supposed in the following). By default,
<code class="docutils literal notranslate"><span class="pre">coqtop</span></code> executes the native-code version; run <code class="docutils literal notranslate"><span class="pre">coqtop.byte</span></code> to get
the byte-code version.</p>
<p>The byte-code toplevel is based on an OCaml toplevel (to
allow dynamic linking of tactics). You can switch to the OCaml toplevel
with the command <code class="docutils literal notranslate"><span class="pre">Drop.</span></code>, and come back to the <span class="smallcaps">Coq</span>
toplevel with the command <code class="docutils literal notranslate"><span class="pre">Coqloop.loop();;</span></code>.</p>
</div>
<div class="section" id="batch-compilation-coqc">
<h2>Batch compilation (coqc)<a class="headerlink" href="#batch-compilation-coqc" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">coqc</span></code> command takes a name <em>file</em> as argument. Then it looks for a
vernacular file named <em>file</em>.v, and tries to compile it into a
<em>file</em>.vo file (See <a class="reference internal" href="../proof-engine/vernacular-commands.html#compiled-files"><span class="std std-ref">Compiled files</span></a>).</p>
<div class="admonition caution">
<p class="first admonition-title">ご用心</p>
<p class="last">The name <em>file</em> should be a regular <span class="smallcaps">Coq</span> identifier as defined in Section <a class="reference internal" href="../language/gallina-specification-language.html#lexical-conventions"><span class="std std-ref">Lexical conventions</span></a>.
It should contain only letters, digits or underscores (_). For example <code class="docutils literal notranslate"><span class="pre">/bar/foo/toto.v</span></code> is valid,
but <code class="docutils literal notranslate"><span class="pre">/bar/foo/to-to.v</span></code> is not.</p>
</div>
</div>
<div class="section" id="customization-at-launch-time">
<h2>Customization at launch time<a class="headerlink" href="#customization-at-launch-time" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="by-resource-file">
<h3>By resource file<a class="headerlink" href="#by-resource-file" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>When <span class="smallcaps">Coq</span> is launched, with either <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> or <code class="docutils literal notranslate"><span class="pre">coqc</span></code>, the
resource file <code class="docutils literal notranslate"><span class="pre">$XDG_CONFIG_HOME/coq/coqrc.xxx</span></code>, if it exists, will
be implicitly prepended to any document read by Coq, whether it is an
interactive session or a file to compile. Here, <code class="docutils literal notranslate"><span class="pre">$XDG_CONFIG_HOME</span></code>
is the configuration directory of the user (by default it's <code class="docutils literal notranslate"><span class="pre">~/.config</span></code>)
and <code class="docutils literal notranslate"><span class="pre">xxx</span></code> is the version number (e.g. 8.8). If
this file is not found, then the file <code class="docutils literal notranslate"><span class="pre">$XDG_CONFIG_HOME/coqrc</span></code> is
searched. If not found, it is the file <code class="docutils literal notranslate"><span class="pre">~/.coqrc.xxx</span></code> which is searched,
and, if still not found, the file <code class="docutils literal notranslate"><span class="pre">~/.coqrc</span></code>. If the latter is also
absent, no resource file is loaded.
You can also specify an arbitrary name for the resource file
(see option <code class="docutils literal notranslate"><span class="pre">-init-file</span></code> below).</p>
<p>The resource file may contain, for instance, <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">LoadPath</span></code> commands to add
directories to the load path of <span class="smallcaps">Coq</span>. It is possible to skip the
loading of the resource file with the option <code class="docutils literal notranslate"><span class="pre">-q</span></code>.</p>
</div>
<div class="section" id="by-environment-variables">
<span id="customization-by-environment-variables"></span><h3>By environment variables<a class="headerlink" href="#by-environment-variables" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Load path can be specified to the <span class="smallcaps">Coq</span> system by setting up <code class="docutils literal notranslate"><span class="pre">$COQPATH</span></code>
environment variable. It is a list of directories separated by
<code class="docutils literal notranslate"><span class="pre">:</span></code> (<code class="docutils literal notranslate"><span class="pre">;</span></code> on Windows). <span class="smallcaps">Coq</span> will also honor <code class="docutils literal notranslate"><span class="pre">$XDG_DATA_HOME</span></code> and
<code class="docutils literal notranslate"><span class="pre">$XDG_DATA_DIRS</span></code> (see Section <a class="reference internal" href="../language/gallina-extensions.html#libraries-and-filesystem"><span class="std std-ref">Libraries and filesystem</span></a>).</p>
<p>Some <span class="smallcaps">Coq</span> commands call other <span class="smallcaps">Coq</span> commands. In this case, they look for
the commands in directory specified by <code class="docutils literal notranslate"><span class="pre">$COQBIN</span></code>. If this variable is
not set, they look for the commands in the executable path.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">$COQ_COLORS</span></code> environment variable can be used to specify the set
of colors used by <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> to highlight its output. It uses the same
syntax as the <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code> variable from GNU’s ls, that is, a colon-separated
list of assignments of the form <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">name=</span></span><span class="repeat-wrapper"><span class="repeat"><span><span class="pre">attr</span></span></span><span class="notation-sup"><span class="pre">*</span></span><span class="notation-sub"><span class="pre">;</span></span></span></span></code> where
<code class="docutils literal notranslate"><span class="pre">name</span></code> is the name of the corresponding highlight tag and each <code class="docutils literal notranslate"><span class="pre">attr</span></code> is an
ANSI escape code. The list of highlight tags can be retrieved with the
<code class="docutils literal notranslate"><span class="pre">-list-tags</span></code> command-line option of <code class="docutils literal notranslate"><span class="pre">coqtop</span></code>.</p>
</div>
<div class="section" id="by-command-line-options">
<span id="command-line-options"></span><h3>By command line options<a class="headerlink" href="#by-command-line-options" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The following command-line options are recognized by the commands <code class="docutils literal notranslate"><span class="pre">coqc</span></code>
and <code class="docutils literal notranslate"><span class="pre">coqtop</span></code>, unless stated otherwise:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">-I <em>directory</em>, -include <em>directory</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Add physical path <em>directory</em>
to the OCaml loadpath.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last"><a class="reference internal" href="../language/gallina-extensions.html#names-of-libraries"><span class="std std-ref">Names of libraries</span></a> and the
command Declare ML Module Section <a class="reference internal" href="../proof-engine/vernacular-commands.html#compiled-files"><span class="std std-ref">Compiled files</span></a>.</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-Q <em>directory</em> dirpath:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Add physical path <em>directory</em> to the list of
directories where <span class="smallcaps">Coq</span> looks for a file and bind it to the logical
directory <em>dirpath</em>. The subdirectory structure of <em>directory</em> is
recursively available from <span class="smallcaps">Coq</span> using absolute names (extending the
dirpath prefix) (see Section <a class="reference internal" href="../language/gallina-extensions.html#qualified-names"><span class="std std-ref">Qualified names</span></a>).Note that only those
subdirectories and files which obey the lexical conventions of what is
an <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="../language/gallina-specification-language.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> are taken into account. Conversely, the
underlying file systems or operating systems may be more restrictive
than <span class="smallcaps">Coq</span>. While Linux’s ext4 file system supports any <span class="smallcaps">Coq</span> recursive
layout (within the limit of 255 bytes per filename), the default on
NTFS (Windows) or HFS+ (MacOS X) file systems is on the contrary to
disallow two files differing only in the case in the same directory.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">Section <a class="reference internal" href="../language/gallina-extensions.html#names-of-libraries"><span class="std std-ref">Names of libraries</span></a>.</p>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-R <em>directory</em> dirpath:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Do as -Q <em>directory</em> dirpath but make the
subdirectory structure of <em>directory</em> recursively visible so that the
recursive contents of physical <em>directory</em> is available from <span class="smallcaps">Coq</span> using
short or partially qualified names.</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">Section <a class="reference internal" href="../language/gallina-extensions.html#names-of-libraries"><span class="std std-ref">Names of libraries</span></a>.</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-top dirpath:</th><td class="field-body"><p class="first">Set the toplevel module name to dirpath instead of Top.
Not valid for <cite>coqc</cite> as the toplevel module name is inferred from the
name of the output file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-exclude-dir <em>directory</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Exclude any subdirectory named <em>directory</em>
while processing options such as -R and -Q. By default, only the
conventional version control management directories named CVS
and_darcs are excluded.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-nois:</th><td class="field-body"><p class="first">Start from an empty state instead of loading the Init.Prelude
module.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-init-file <em>file</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Load <em>file</em> as the resource file instead of
loading the default resource file from the standard configuration
directories.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-q:</th><td class="field-body"><p class="first">Do not to load the default resource file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-load-ml-source <em>file</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Load the OCaml source file <em>file</em>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-load-ml-object <em>file</em>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Load the OCaml object file <em>file</em>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-l <em>file</em>, -load-vernac-source <em>file</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Load and execute the <span class="smallcaps">Coq</span>
script from <em>file.v</em>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-lv <em>file</em>, -load-vernac-source-verbose <em>file</em>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Load and execute the
<span class="smallcaps">Coq</span> script from <em>file.v</em>. Write its contents to the standard output as
it is executed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-load-vernac-object dirpath:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Load <span class="smallcaps">Coq</span> compiled library dirpath. This
is equivalent to runningRequire dirpath.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-require dirpath:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Load <span class="smallcaps">Coq</span> compiled library dirpath and import it.
This is equivalent to running Require Import dirpath.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">-batch:</th><td class="field-body"><p class="first">Exit just after argument parsing. Available for <cite>coqtop</cite> only.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-compile <em>file.v</em>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Compile file <em>file.v</em> into <em>file.vo</em>. This option
implies -batch (exit just after argument parsing). It is available only
for <cite>coqtop</cite>, as this behavior is the purpose of <cite>coqc</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-compile-verbose <em>file.v</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Same as -compile but also output the
content of <em>file.v</em> as it is compiled.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-verbose:</th><td class="field-body"><p class="first">Output the content of the input file as it is compiled.
This option is available for <cite>coqc</cite> only; it is the counterpart of
-compile-verbose.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-w (all|none|w₁,…,wₙ):</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Configure the display of warnings. This
option expects all, none or a comma-separated list of warning names or
categories (see Section <a class="reference internal" href="../proof-engine/vernacular-commands.html#controlling-display"><span class="std std-ref">Controlling display</span></a>).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-color (on|off|auto):</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Enable or not the coloring of output of <cite>coqtop</cite>.
Default is auto, meaning that <cite>coqtop</cite> dynamically decides, depending on
whether the output channel supports ANSI escape sequences.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">-beautify:</th><td class="field-body"><p class="first">Pretty-print each command to <em>file.beautified</em> when
compiling <em>file.v</em>, in order to get old-fashioned
syntax/definitions/notations.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-emacs, -ide-slave:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Start a special toplevel to communicate with a
specific IDE.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-impredicative-set:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Change the logical theory of <span class="smallcaps">Coq</span> by declaring the
sort Set impredicative.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">This is known to be inconsistent with some
standard axioms of classical mathematics such as the functional
axiom of choice or the principle of description.</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-type-in-type:</th><td class="field-body"><p class="first">Collapse the universe hierarchy of <span class="smallcaps">Coq</span>.</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">This makes the logic inconsistent.</p>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-mangle-names <em>ident</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Experimental: Do not depend on this option. Replace
Coq's auto-generated name scheme with names of the form <em>ident0</em>, <em>ident1</em>,
etc. The command <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Mangle</span> <span class="pre">Names</span></code> turns the behavior on in a document,
and <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Mangle</span> <span class="pre">Names</span> <span class="pre">Prefix</span> <span class="pre">&quot;ident&quot;</span></code> changes the used prefix. This feature
is intended to be used as a linter for developments that want to be robust to
changes in the auto-generated name scheme. The options are provided to
facilitate tracking down problems.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-compat <em>version</em>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Attempt to maintain some backward-compatibility
with a previous version.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-dump-glob <em>file</em>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Dump references for global names in file <em>file</em>
(to be used by coqdoc, see <a class="reference internal" href="utilities.html#coqdoc"><span class="std std-ref">Documenting Coq files with coqdoc</span></a>). By default, if <em>file.v</em> is being
compiled, <em>file.glob</em> is used.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-no-glob:</th><td class="field-body"><p class="first">Disable the dumping of references for global names.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">-image <em>file</em>:</th><td class="field-body"><p class="first">Set the binary image to be used by <cite>coqc</cite> to be <em>file</em>
instead of the standard one. Not of general use.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-bindir <em>directory</em>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Set the directory containing <span class="smallcaps">Coq</span> binaries to be
used by <cite>coqc</cite>. It is equivalent to doing export COQBIN= <em>directory</em>
before launching <cite>coqc</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">-where:</th><td class="field-body"><p class="first">Print the location of <span class="smallcaps">Coq</span>’s standard library and exit.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-config:</th><td class="field-body"><p class="first">Print the locations of <span class="smallcaps">Coq</span>’s binaries, dependencies, and
libraries, then exit.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">-filteropts:</th><td class="field-body"><p class="first">Print the list of command line arguments that <cite>coqtop</cite> has
recognized as options and exit.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-v:</th><td class="field-body"><p class="first">Print <span class="smallcaps">Coq</span>’s version and exit.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">-list-tags:</th><td class="field-body"><p class="first">Print the highlight tags known by <span class="smallcaps">Coq</span> as well as their
currently associated color and exit.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">-h, --help:</th><td class="field-body"><p class="first last">Print a short usage and exit.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="compiled-libraries-checker-coqchk">
<h2>Compiled libraries checker (coqchk)<a class="headerlink" href="#compiled-libraries-checker-coqchk" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> command takes a list of library paths as argument, described either
by their logical name or by their physical filename, hich must end in <code class="docutils literal notranslate"><span class="pre">.vo</span></code>. The
corresponding compiled libraries (<code class="docutils literal notranslate"><span class="pre">.vo</span></code> files) are searched in the path,
recursively processing the libraries they depend on. The content of all these
libraries is then type checked. The effect of <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> is only to return with
normal exit code in case of success, and with positive exit code if an error has
been found. Error messages are not deemed to help the user understand what is
wrong. In the current version, it does not modify the compiled libraries to mark
them as successfully checked.</p>
<p>Note that non-logical information is not checked. By logical
information, we mean the type and optional body associated to names.
It excludes for instance anything related to the concrete syntax of
objects (customized syntax rules, association between short and long
names), implicit arguments, etc.</p>
<p>This tool can be used for several purposes. One is to check that a
compiled library provided by a third-party has not been forged and
that loading it cannot introduce inconsistencies <a class="footnote-reference" href="#id2" id="id1">[1]</a>. Another point is
to get an even higher level of security. Since <code class="docutils literal notranslate"><span class="pre">coqtop</span></code> can be extended
with custom tactics, possibly ill-typed code, it cannot be guaranteed
that the produced compiled libraries are correct. <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> is a
standalone verifier, and thus it cannot be tainted by such malicious
code.</p>
<p>Command-line options <code class="docutils literal notranslate"><span class="pre">-Q</span></code>, <code class="docutils literal notranslate"><span class="pre">-R</span></code>, <code class="docutils literal notranslate"><span class="pre">-where</span></code> and <code class="docutils literal notranslate"><span class="pre">-impredicative-set</span></code> are supported
by <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> and have the same meaning as for <code class="docutils literal notranslate"><span class="pre">coqtop</span></code>. As there is no notion of
relative paths in object files <code class="docutils literal notranslate"><span class="pre">-Q</span></code> and <code class="docutils literal notranslate"><span class="pre">-R</span></code> have exactly the same meaning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">-norec <em>module</em>:</th><td class="field-body">Check <em>module</em> but do not check its dependencies.</td>
</tr>
<tr class="field-even field"><th class="field-name">-admit <em>module</em>:</th><td class="field-body">Do not check <em>module</em> and any of its dependencies,
unless explicitly required.</td>
</tr>
<tr class="field-odd field"><th class="field-name">-o:</th><td class="field-body">At exit, print a summary about the context. List the names of all
assumptions and variables (constants without body).</td>
</tr>
<tr class="field-even field"><th class="field-name">-silent:</th><td class="field-body">Do not write progress information to the standard output.</td>
</tr>
</tbody>
</table>
<p>Environment variable <code class="docutils literal notranslate"><span class="pre">$COQLIB</span></code> can be set to override the location of
the standard library.</p>
<p>The algorithm for deciding which modules are checked or admitted is
the following: assuming that <code class="docutils literal notranslate"><span class="pre">coqchk</span></code> is called with argument <code class="docutils literal notranslate"><span class="pre">M</span></code>, option
<code class="docutils literal notranslate"><span class="pre">-norec</span> <span class="pre">N</span></code>, and <code class="docutils literal notranslate"><span class="pre">-admit</span> <span class="pre">A</span></code>. Let us write <span class="math notranslate">\(\overline{S}\)</span> for the
set of reflexive transitive dependencies of set <span class="math notranslate">\(S\)</span>. Then:</p>
<ul class="simple">
<li>Modules <span class="math notranslate">\(C = \overline{M} \backslash \overline{A} \cup M \cup N\)</span> are loaded and type checked before being added
to the context.</li>
<li>And <span class="math notranslate">\(M \cup N \backslash C\)</span> is the set of modules that are loaded and added to the
context without type checking. Basic integrity checks (checksums) are
nonetheless performed.</li>
</ul>
<p>As a rule of thumb, -admit can be used to tell Coq that some libraries
have already been checked. So <code class="docutils literal notranslate"><span class="pre">coqchk</span> <span class="pre">A</span> <span class="pre">B</span></code> can be split in <code class="docutils literal notranslate"><span class="pre">coqchk</span> <span class="pre">A</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">coqchk</span> <span class="pre">B</span> <span class="pre">-admit</span> <span class="pre">A</span></code> without type checking any definition twice. Of
course, the latter is slightly slower since it makes more disk access.
It is also less secure since an attacker might have replaced the
compiled library <code class="docutils literal notranslate"><span class="pre">A</span></code> after it has been read by the first command, but
before it has been read by the second command.</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Ill-formed non-logical information might for instance bind
Coq.Init.Logic.True to short name False, so apparently False is
inhabited, but using fully qualified names, Coq.Init.Logic.False will
always refer to the absurd proposition, what we guarantee is that
there is no proof of this latter constant.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="utilities.html" class="btn btn-neutral float-right" title="Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../user-extensions/proof-schemes.html" class="btn btn-neutral" title="Proof schemes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2018, Inria.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'8.8.2',
            LANGUAGE:'ja',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/notations.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>